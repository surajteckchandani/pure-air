!function(t,e,i){"undefined"!=typeof module?module.exports=i("bean",e):"function"==typeof define&&"object"==typeof define.amd?define(i):e.bean=i("bean",e)}(0,this,function(t,e){var i,n,o,s,a,r,l=window,h=e[t],c=/over|out/,u=/[^\.]*(?=\..*)\.|.*/,d=/\..*/,f="addEventListener",p=document||{},g=p.documentElement||{},m=g[f],x=m?f:"attachEvent",v=Array.prototype.slice,y=/click|mouse|menu|drag|drop/i,b=/^touch|^gesture/i,M={one:1},w=function(t,e,i){for(i=0;i<e.length;i++)t[e[i]]=1;return t}({},("click dblclick mouseup mousedown contextmenu mousewheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange error abort scroll "+(m?"show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend message readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ":"")).split(" ")),k=function(){function t(t){var e=t.relatedTarget;return e?e!==this&&"xul"!==e.prefix&&!/document/.test(this.toString())&&!function(t,e){for(;null!==(e=e.parentNode);)if(e===t)return!0;return!1}(this,e):null===e}return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),S=(o="altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which".split(" "),s=o.concat("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" ")),a=o.concat("char charCode key keyCode".split(" ")),r=o.concat("touches targetTouches changedTouches scale rotation".split(" ")),function(t,e){var i={originalEvent:t,isNative:e};if(!t)return i;var n,l,h=t.type,u=t.target||t.srcElement;return i.preventDefault=function(t){return function(){t.preventDefault?t.preventDefault():t.returnValue=!1}}(t),i.stopPropagation=function(t){return function(){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}}(t),i.stop=(l=i,function(){l.preventDefault(),l.stopPropagation(),l.stopped=!0}),i.target=u&&3===u.nodeType?u.parentNode:u,e&&(-1!==h.indexOf("key")?(n=a,i.keyCode=t.which||t.keyCode):y.test(h)?(n=s,i.rightClick=3===t.which||2===t.button,i.pos={x:0,y:0},t.pageX||t.pageY?(i.clientX=t.pageX,i.clientY=t.pageY):(t.clientX||t.clientY)&&(i.clientX=t.clientX+p.body.scrollLeft+g.scrollLeft,i.clientY=t.clientY+p.body.scrollTop+g.scrollTop),c.test(h)&&(i.relatedTarget=t.relatedTarget||t[("mouseover"===h?"from":"to")+"Element"])):b.test(h)&&(n=r),function(t,e,i){var n,o;for(n=i.length;n--;)!((o=i[n])in e)&&o in t&&(e[o]=t[o])}(t,i,n||o)),i}),T=function(t,e){return m||e||t!==p&&t!==l?t:g},F=function(){function t(t,e,i,n,o){this.element=t,this.type=e,this.handler=i,this.original=n,this.namespaces=o,this.custom=k[e],this.isNative=w[e]&&t[x],this.eventType=m||this.isNative?e:"propertychange",this.customType=!m&&!this.isNative&&e,this.target=T(t,this.isNative),this.eventSupport=this.target[x]}return t.prototype={inNamespaces:function(t){var e,i;if(!t)return!0;if(!this.namespaces)return!1;for(e=t.length;e--;)for(i=this.namespaces.length;i--;)if(t[e]===this.namespaces[i])return!0;return!1},matches:function(t,e,i){return!(this.element!==t||e&&this.original!==e||i&&this.handler!==i)}},t}(),A=(i={},n=function(t,e,o,s,a){if(e&&"*"!==e){var r,l=0,h=i["$"+e],c="*"===t;if(!h)return;for(r=h.length;l<r;l++)if((c||h[l].matches(t,o,s))&&!a(h[l],h,l,e))return}else for(var u in i)"$"===u.charAt(0)&&n(t,u.substr(1),o,s,a)},{has:function(t,e,n){var o,s=i["$"+e];if(s)for(o=s.length;o--;)if(s[o].matches(t,n,null))return!0;return!1},get:function(t,e,i){var o=[];return n(t,e,i,null,function(t){return o.push(t)}),o},put:function(t){return(i["$"+t.type]||(i["$"+t.type]=[])).push(t),t},del:function(t){n(t.element,t.type,null,t.handler,function(t,e,n){return e.splice(n,1),0===e.length&&delete i["$"+t.type],!1})},entries:function(){var t,e=[];for(t in i)"$"===t.charAt(0)&&(e=e.concat(i[t]));return e}}),C=m?function(t,e,i,n){t[n?f:"removeEventListener"](e,i,!1)}:function(t,e,i,n,o){o&&n&&null===t["_on"+o]&&(t["_on"+o]=0),t[n?"attachEvent":"detachEvent"]("on"+e,i)},O=function(t,e,i,n,o,s){return function(a){(n?n.apply(this,arguments):m||(a&&a.propertyName==="_on"+i||!a))&&(a&&(a=S(a||((this.ownerDocument||this.document||this).parentWindow||l).event,s)),e.apply(t,!a||o&&0!==o.length?v.call(arguments,a?0:1).concat(o):arguments))}},W=function(t,e,i,n,o){return function(){t(e,i,o),n.apply(this,arguments)}},I=function(t,e,i,n){var o,s,a,r=e&&e.replace(d,""),l=A.get(t,r,i);for(o=0,s=l.length;o<s;o++)l[o].inNamespaces(n)&&((a=l[o]).eventSupport&&C(a.target,a.eventType,a.handler,!1,a.type),A.del(a))},z=function(t,e,i,n,o){var s,a=e.replace(d,""),r=e.replace(u,"").split(".");if(A.has(t,a,i))return t;"unload"===a&&(i=W(I,t,a,i,n)),k[a]&&(k[a].condition&&(i=O(t,i,a,k[a].condition,!0)),a=k[a].base||a),(s=A.put(new F(t,a,i,n,r[0]&&r))).handler=s.isNative?function(t,e,i){return function(n){return n=S(n||((this.ownerDocument||this.document||this).parentWindow||l).event,!0),e.apply(t,[n].concat(i))}}(t,s.handler,o):O(t,s.handler,a,!1,o,!1),s.eventSupport&&C(s.target,s.eventType,s.handler,!0,s.customType)},P=function(t,e,i){var n,o,s,a,r=I,l=e&&"string"==typeof e;if(l&&e.indexOf(" ")>0){for(a=(e=e.split(" ")).length;a--;)P(t,e[a],i);return t}if((o=l&&e.replace(d,""))&&k[o]&&(o=k[o].type),!e||l)(s=l&&e.replace(u,""))&&(s=s.split(".")),r(t,o,i,s);else if("function"==typeof e)r(t,null,e);else for(n in e)e.hasOwnProperty(n)&&P(t,n,e[n]);return t},E=function(t,e,i,n,o){var s,a,r,l,h=i,c=i&&"string"==typeof i;if(e&&!i&&"object"==typeof e)for(s in e)e.hasOwnProperty(s)&&E.apply(this,[t,s,e[s]]);else for(l=arguments.length>3?v.call(arguments,3):[],a=(c?i:e).split(" "),c&&(i=function(t,e,i){return function(n){var o,s,a="string"==typeof t?i(t,this):t;for(o=n.target;o&&o!==this;o=o.parentNode)for(s=a.length;s--;)if(a[s]===o)return e.apply(o,arguments)}}(e,h=n,o))&&(l=v.call(l,1)),this===M&&(i=W(P,t,e,i,h)),r=a.length;r--;)z(t,a[r],i,h,l);return t},H=m?function(t,e,i){var n=p.createEvent(t?"HTMLEvents":"UIEvents");n[t?"initEvent":"initUIEvent"](e,!0,!0,l,1),i.dispatchEvent(n)}:function(t,e,i){i=T(i,t),t?i.fireEvent("on"+e,p.createEventObject()):i["_on"+e]++},R={add:E,one:function(){return E.apply(M,arguments)},remove:P,clone:function(t,e,i){for(var n=0,o=A.get(e,i),s=o.length;n<s;n++)o[n].original&&E(t,o[n].type,o[n].original);return t},fire:function(t,e,i){var n,o,s,a,r,l=e.split(" ");for(n=l.length;n--;)if(e=l[n].replace(d,""),(a=l[n].replace(u,""))&&(a=a.split(".")),a||i||!t[x])for(r=A.get(t,e),i=[!1].concat(i),o=0,s=r.length;o<s;o++)r[o].inNamespaces(a)&&r[o].handler.apply(t,i);else H(w[e],e,t);return t},noConflict:function(){return e[t]=h,this}};if(l.attachEvent){var _=function(){var t,e=A.entries();for(t in e)e[t].type&&"unload"!==e[t].type&&P(e[t].element,e[t].type);l.detachEvent("onunload",_),l.CollectGarbage&&l.CollectGarbage()};l.attachEvent("onunload",_)}return R}),function(){var t=this,e=t._,i={},n=Array.prototype,o=Object.prototype,s=Function.prototype,a=n.slice,r=n.unshift,l=o.toString,h=o.hasOwnProperty,c=n.forEach,u=n.map,d=n.reduce,f=n.reduceRight,p=n.filter,g=n.every,m=n.some,x=n.indexOf,v=n.lastIndexOf,y=Array.isArray,b=Object.keys,M=s.bind,w=function(t){return new A(t)};"undefined"!=typeof module&&module.exports?(module.exports=w,w._=w):t._=w,w.VERSION="1.1.7";var k=w.each=w.forEach=function(t,e,n){if(null!=t)if(c&&t.forEach===c)t.forEach(e,n);else if(t.length===+t.length){for(var o=0,s=t.length;o<s;o++)if(o in t&&e.call(n,t[o],o,t)===i)return}else for(var a in t)if(h.call(t,a)&&e.call(n,t[a],a,t)===i)return};w.map=function(t,e,i){var n=[];return null==t?n:u&&t.map===u?t.map(e,i):(k(t,function(t,o,s){n[n.length]=e.call(i,t,o,s)}),n)},w.reduce=w.foldl=w.inject=function(t,e,i,n){var o=void 0!==i;if(null==t&&(t=[]),d&&t.reduce===d)return n&&(e=w.bind(e,n)),o?t.reduce(e,i):t.reduce(e);if(k(t,function(t,s,a){o?i=e.call(n,i,t,s,a):(i=t,o=!0)}),!o)throw new TypeError("Reduce of empty array with no initial value");return i},w.reduceRight=w.foldr=function(t,e,i,n){if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=w.bind(e,n)),void 0!==i?t.reduceRight(e,i):t.reduceRight(e);var o=(w.isArray(t)?t.slice():w.toArray(t)).reverse();return w.reduce(o,e,i,n)},w.find=w.detect=function(t,e,i){var n;return S(t,function(t,o,s){if(e.call(i,t,o,s))return n=t,!0}),n},w.filter=w.select=function(t,e,i){var n=[];return null==t?n:p&&t.filter===p?t.filter(e,i):(k(t,function(t,o,s){e.call(i,t,o,s)&&(n[n.length]=t)}),n)},w.reject=function(t,e,i){var n=[];return null==t?n:(k(t,function(t,o,s){e.call(i,t,o,s)||(n[n.length]=t)}),n)},w.every=w.all=function(t,e,n){var o=!0;return null==t?o:g&&t.every===g?t.every(e,n):(k(t,function(t,s,a){if(!(o=o&&e.call(n,t,s,a)))return i}),o)};var S=w.some=w.any=function(t,e,n){e=e||w.identity;var o=!1;return null==t?o:m&&t.some===m?t.some(e,n):(k(t,function(t,s,a){if(o|=e.call(n,t,s,a))return i}),!!o)};w.include=w.contains=function(t,e){var i=!1;return null==t?i:x&&t.indexOf===x?-1!=t.indexOf(e):(S(t,function(t){if(i=t===e)return!0}),i)},w.invoke=function(t,e){var i=a.call(arguments,2);return w.map(t,function(t){return(e.call?e||t:t[e]).apply(t,i)})},w.pluck=function(t,e){return w.map(t,function(t){return t[e]})},w.max=function(t,e,i){if(!e&&w.isArray(t))return Math.max.apply(Math,t);var n={computed:-1/0};return k(t,function(t,o,s){var a=e?e.call(i,t,o,s):t;a>=n.computed&&(n={value:t,computed:a})}),n.value},w.min=function(t,e,i){if(!e&&w.isArray(t))return Math.min.apply(Math,t);var n={computed:1/0};return k(t,function(t,o,s){var a=e?e.call(i,t,o,s):t;a<n.computed&&(n={value:t,computed:a})}),n.value},w.sortBy=function(t,e,i){return w.pluck(w.map(t,function(t,n,o){return{value:t,criteria:e.call(i,t,n,o)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;return i<n?-1:i>n?1:0}),"value")},w.groupBy=function(t,e){var i={};return k(t,function(t,n){var o=e(t,n);(i[o]||(i[o]=[])).push(t)}),i},w.sortedIndex=function(t,e,i){i||(i=w.identity);for(var n=0,o=t.length;n<o;){var s=n+o>>1;i(t[s])<i(e)?n=s+1:o=s}return n},w.toArray=function(t){return t?t.toArray?t.toArray():w.isArray(t)?a.call(t):w.isArguments(t)?a.call(t):w.values(t):[]},w.size=function(t){return w.toArray(t).length},w.first=w.head=function(t,e,i){return null==e||i?t[0]:a.call(t,0,e)},w.rest=w.tail=function(t,e,i){return a.call(t,null==e||i?1:e)},w.last=function(t){return t[t.length-1]},w.compact=function(t){return w.filter(t,function(t){return!!t})},w.flatten=function(t){return w.reduce(t,function(t,e){return w.isArray(e)?t.concat(w.flatten(e)):(t[t.length]=e,t)},[])},w.without=function(t){return w.difference(t,a.call(arguments,1))},w.uniq=w.unique=function(t,e){return w.reduce(t,function(t,i,n){return 0!=n&&(!0===e?w.last(t)==i:w.include(t,i))||(t[t.length]=i),t},[])},w.union=function(){return w.uniq(w.flatten(arguments))},w.intersection=w.intersect=function(t){var e=a.call(arguments,1);return w.filter(w.uniq(t),function(t){return w.every(e,function(e){return w.indexOf(e,t)>=0})})},w.difference=function(t,e){return w.filter(t,function(t){return!w.include(e,t)})},w.zip=function(){for(var t=a.call(arguments),e=w.max(w.pluck(t,"length")),i=new Array(e),n=0;n<e;n++)i[n]=w.pluck(t,""+n);return i},w.indexOf=function(t,e,i){if(null==t)return-1;var n,o;if(i)return t[n=w.sortedIndex(t,e)]===e?n:-1;if(x&&t.indexOf===x)return t.indexOf(e);for(n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},w.lastIndexOf=function(t,e){if(null==t)return-1;if(v&&t.lastIndexOf===v)return t.lastIndexOf(e);for(var i=t.length;i--;)if(t[i]===e)return i;return-1},w.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),o=0,s=new Array(n);o<n;)s[o++]=t,t+=i;return s},w.bind=function(t,e){if(t.bind===M&&M)return M.apply(t,a.call(arguments,1));var i=a.call(arguments,2);return function(){return t.apply(e,i.concat(a.call(arguments)))}},w.bindAll=function(t){var e=a.call(arguments,1);return 0==e.length&&(e=w.functions(t)),k(e,function(e){t[e]=w.bind(t[e],t)}),t},w.memoize=function(t,e){var i={};return e||(e=w.identity),function(){var n=e.apply(this,arguments);return h.call(i,n)?i[n]:i[n]=t.apply(this,arguments)}},w.delay=function(t,e){var i=a.call(arguments,2);return setTimeout(function(){return t.apply(t,i)},e)},w.defer=function(t){return w.delay.apply(w,[t,1].concat(a.call(arguments,1)))};var T=function(t,e,i){var n;return function(){var o=this,s=arguments;i&&clearTimeout(n),!i&&n||(n=setTimeout(function(){n=null,t.apply(o,s)},e))}};w.throttle=function(t,e){return T(t,e,!1)},w.debounce=function(t,e){return T(t,e,!0)},w.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments))}},w.wrap=function(t,e){return function(){var i=[t].concat(a.call(arguments));return e.apply(this,i)}},w.compose=function(){var t=a.call(arguments);return function(){for(var e=a.call(arguments),i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},w.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},w.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)h.call(t,i)&&(e[e.length]=i);return e},w.values=function(t){return w.map(t,w.identity)},w.functions=w.methods=function(t){var e=[];for(var i in t)w.isFunction(t[i])&&e.push(i);return e.sort()},w.extend=function(t){return k(a.call(arguments,1),function(e){for(var i in e)void 0!==e[i]&&(t[i]=e[i])}),t},w.defaults=function(t){return k(a.call(arguments,1),function(e){for(var i in e)null==t[i]&&(t[i]=e[i])}),t},w.clone=function(t){return w.isArray(t)?t.slice():w.extend({},t)},w.tap=function(t,e){return e(t),t},w.isEqual=function(t,e){if(t===e)return!0;var i=typeof t;if(i!=typeof e)return!1;if(t==e)return!0;if(!t&&e||t&&!e)return!1;if(t._chain&&(t=t._wrapped),e._chain&&(e=e._wrapped),t.isEqual)return t.isEqual(e);if(e.isEqual)return e.isEqual(t);if(w.isDate(t)&&w.isDate(e))return t.getTime()===e.getTime();if(w.isNaN(t)&&w.isNaN(e))return!1;if(w.isRegExp(t)&&w.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.ignoreCase===e.ignoreCase&&t.multiline===e.multiline;if("object"!==i)return!1;if(t.length&&t.length!==e.length)return!1;var n=w.keys(t),o=w.keys(e);if(n.length!=o.length)return!1;for(var s in t)if(!(s in e&&w.isEqual(t[s],e[s])))return!1;return!0},w.isEmpty=function(t){if(w.isArray(t)||w.isString(t))return 0===t.length;for(var e in t)if(h.call(t,e))return!1;return!0},w.isElement=function(t){return!(!t||1!=t.nodeType)},w.isArray=y||function(t){return"[object Array]"===l.call(t)},w.isObject=function(t){return t===Object(t)},w.isArguments=function(t){return!(!t||!h.call(t,"callee"))},w.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},w.isString=function(t){return!!(""===t||t&&t.charCodeAt&&t.substr)},w.isNumber=function(t){return!!(0===t||t&&t.toExponential&&t.toFixed)},w.isNaN=function(t){return t!=t},w.isBoolean=function(t){return!0===t||!1===t},w.isDate=function(t){return!!(t&&t.getTimezoneOffset&&t.setUTCFullYear)},w.isRegExp=function(t){return!(!(t&&t.test&&t.exec)||!t.ignoreCase&&!1!==t.ignoreCase)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.noConflict=function(){return t._=e,this},w.identity=function(t){return t},w.times=function(t,e,i){for(var n=0;n<t;n++)e.call(i,n)},w.mixin=function(t){k(w.functions(t),function(e){O(e,w[e]=t[e])})};var F=0;w.uniqueId=function(t){var e=F++;return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g},w.template=function(t,e){var i=w.templateSettings,n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(i.interpolate,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(i.evaluate||null,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",o=new Function("obj",n);return e?o(e):o};var A=function(t){this._wrapped=t};w.prototype=A.prototype;var C=function(t,e){return e?w(t).chain():t},O=function(t,e){A.prototype[t]=function(){var t=a.call(arguments);return r.call(t,this._wrapped),C(e.apply(w,t),this._chain)}};w.mixin(w),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];A.prototype[t]=function(){return e.apply(this._wrapped,arguments),C(this._wrapped,this._chain)}}),k(["concat","join","slice"],function(t){var e=n[t];A.prototype[t]=function(){return C(e.apply(this._wrapped,arguments),this._chain)}}),A.prototype.chain=function(){return this._chain=!0,this},A.prototype.value=function(){return this._wrapped}}(),function(){var t,e=this,i=this.Flotr;t={_:_,bean:bean,isIphone:/iphone/i.test(navigator.userAgent),isIE:-1!=navigator.appVersion.indexOf("MSIE")&&parseFloat(navigator.appVersion.split("MSIE")[1]),graphTypes:{},plugins:{},addType:function(e,i){t.graphTypes[e]=i,t.defaultOptions[e]=i.options||{},t.defaultOptions.defaultType=t.defaultOptions.defaultType||e},addPlugin:function(e,i){t.plugins[e]=i,t.defaultOptions[e]=i.options||{}},draw:function(e,i,n,o){return new(o=o||t.Graph)(e,i,n)},merge:function(e,i){var n,o,s=i||{};for(n in e)(o=e[n])&&"object"==typeof o?o.constructor===Array?s[n]=this._.clone(o):o.constructor===RegExp||this._.isElement(o)||o.jquery?s[n]=o:s[n]=t.merge(o,i?i[n]:void 0):s[n]=o;return s},clone:function(e){return t.merge(e,{})},getTickSize:function(e,i,n,o){var s=(n-i)/e,a=t.getMagnitude(s),r=10,l=s/a;return l<1.5?r=1:l<2.25?r=2:l<3?r=0===o?2:2.5:l<7.5&&(r=5),r*a},defaultTickFormatter:function(t,e){return t+""},defaultTrackFormatter:function(t){return"("+t.x+", "+t.y+")"},engineeringNotation:function(t,e,i){var n=["Y","Z","E","P","T","G","M","k",""],o=n.length;if(i=i||1e3,e=Math.pow(10,e||2),0===t)return 0;if(t>1)for(;o--&&t>=i;)t/=i;else for(o=(n=["y","z","a","f","p","n","Âµ","m",""]).length;o--&&t<1;)t*=i;return Math.round(t*e)/e+n[o]},getMagnitude:function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},toPixel:function(t){return Math.floor(t)+.5},toRad:function(t){return-t*(Math.PI/180)},floorInBase:function(t,e){return e*Math.floor(t/e)},drawText:function(e,i,n,o,s){e.fillText?(s=this._.extend({size:t.defaultOptions.fontSize,color:"#000000",textAlign:"left",textBaseline:"bottom",weight:1,angle:0},s),e.save(),e.translate(n,o),e.rotate(s.angle),e.fillStyle=s.color,e.font=(s.weight>1?"bold ":"")+1.3*s.size+"px sans-serif",e.textAlign=s.textAlign,e.textBaseline=s.textBaseline,e.fillText(i,0,0),e.restore()):e.drawText(i,n,o,s)},getBestTextAlign:function(e,i){return i=i||{textAlign:"center",textBaseline:"middle"},e+=t.getTextAngleFromAlign(i),Math.abs(Math.cos(e))>.01&&(i.textAlign=Math.cos(e)>0?"right":"left"),Math.abs(Math.sin(e))>.01&&(i.textBaseline=Math.sin(e)>0?"top":"bottom"),i},alignTable:{"right middle":0,"right top":Math.PI/4,"center top":Math.PI/2,"left top":Math.PI/4*3,"left middle":Math.PI,"left bottom":Math.PI/4*-3,"center bottom":-Math.PI/2,"right bottom":-Math.PI/4,"center middle":0},getTextAngleFromAlign:function(e){return t.alignTable[e.textAlign+" "+e.textBaseline]||0},noConflict:function(){return e.Flotr=i,this}},e.Flotr=t}(),Flotr.defaultOptions={colors:["#00A8F0","#C0D800","#CB4B4B","#4DA74D","#9440ED"],ieBackgroundColor:"#FFFFFF",title:null,subtitle:null,shadowSize:4,defaultType:null,HtmlText:!0,fontColor:"#545454",fontSize:7.5,resolution:1,parseFloat:!0,preventDefault:!0,xaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels:!1,labelsAngle:0,title:null,titleAngle:0,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,mode:"normal",timeFormat:null,timeMode:"UTC",timeUnit:"millisecond",scaling:"linear",base:Math.E,titleAlign:"center",margin:!0},x2axis:{},yaxis:{ticks:null,minorTicks:null,showLabels:!0,showMinorLabels:!1,labelsAngle:0,title:null,titleAngle:90,noTicks:5,minorTickFreq:null,tickFormatter:Flotr.defaultTickFormatter,tickDecimals:null,min:null,max:null,autoscale:!1,autoscaleMargin:0,color:null,scaling:"linear",base:Math.E,titleAlign:"center",margin:!0},y2axis:{titleAngle:270},grid:{color:"#545454",backgroundColor:null,backgroundImage:null,watermarkAlpha:.4,tickColor:"#DDDDDD",labelMargin:3,verticalLines:!0,minorVerticalLines:null,horizontalLines:!0,minorHorizontalLines:null,outlineWidth:1,outline:"nsew",circular:!1},mouse:{track:!1,trackAll:!1,position:"se",relative:!1,trackFormatter:Flotr.defaultTrackFormatter,margin:5,lineColor:"#FF3F19",trackDecimals:1,sensibility:2,trackY:!0,radius:3,fillColor:null,fillOpacity:.4}},function(){var t=Flotr._;function e(t,e,i,n){this.rgba=["r","g","b","a"];for(var o=4;-1<--o;)this[this.rgba[o]]=arguments[o]||(3==o?1:0);this.normalize()}var i={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]};e.prototype={scale:function(e,i,n,o){for(var s=4;-1<--s;)t.isUndefined(arguments[s])||(this[this.rgba[s]]*=arguments[s]);return this.normalize()},alpha:function(e){return t.isUndefined(e)||t.isNull(e)||(this.a=e),this.normalize()},clone:function(){return new e(this.r,this.b,this.g,this.a)},limit:function(t,e,i){return Math.max(Math.min(t,i),e)},normalize:function(){var t=this.limit;return this.r=t(parseInt(this.r,10),0,255),this.g=t(parseInt(this.g,10),0,255),this.b=t(parseInt(this.b,10),0,255),this.a=t(this.a,0,1),this},distance:function(t){if(t){t=new e.parse(t);for(var i=0,n=3;-1<--n;)i+=Math.abs(this[this.rgba[n]]-t[this.rgba[n]]);return i}},toString:function(){return this.a>=1?"rgb("+[this.r,this.g,this.b].join(",")+")":"rgba("+[this.r,this.g,this.b,this.a].join(",")+")"},contrast:function(){return 1-(.299*this.r+.587*this.g+.114*this.b)/255<.5?"#000000":"#ffffff"}},t.extend(e,{parse:function(t){if(t instanceof e)return t;var n;if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))return new e(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16));if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))return new e(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10));if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))return new e(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16));if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return new e(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]));if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))return new e(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]));if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(t))return new e(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]));var o=(t+"").replace(/^\s*([\S\s]*?)\s*$/,"$1").toLowerCase();return"transparent"==o?new e(255,255,255,0):(n=i[o])?new e(n[0],n[1],n[2]):new e(0,0,0,0)},processColor:function(i,n){var o=n.opacity;if(!i)return"rgba(0, 0, 0, 0)";if(i instanceof e)return i.alpha(o).toString();if(t.isString(i))return e.parse(i).alpha(o).toString();var s=i.colors?i:{colors:i};if(!n.ctx)return t.isArray(s.colors)?e.parse(t.isArray(s.colors[0])?s.colors[0][1]:s.colors[0]).alpha(o).toString():"rgba(0, 0, 0, 0)";s=t.extend({start:"top",end:"bottom"},s),/top/i.test(s.start)&&(n.x1=0),/left/i.test(s.start)&&(n.y1=0),/bottom/i.test(s.end)&&(n.x2=0),/right/i.test(s.end)&&(n.y2=0);var a,r,l,h=n.ctx.createLinearGradient(n.x1,n.y1,n.x2,n.y2);for(a=0;a<s.colors.length;a++)r=s.colors[a],t.isArray(r)?(l=r[0],r=r[1]):l=a/(s.colors.length-1),h.addColorStop(l,e.parse(r).alpha(o));return h}}),Flotr.Color=e}(),Flotr.Date={set:function(t,e,i,n){t[e="set"+("UTC"===(i=i||"UTC")?"UTC":"")+e](n)},get:function(t,e,i){return t[e="get"+("UTC"===(i=i||"UTC")?"UTC":"")+e]()},format:function(t,e,i){if(t){for(var n,o=this.get,s={h:o(t,"Hours",i).toString(),H:h(o(t,"Hours",i)),M:h(o(t,"Minutes",i)),S:h(o(t,"Seconds",i)),s:o(t,"Milliseconds",i),d:o(t,"Date",i).toString(),m:(o(t,"Month",i)+1).toString(),y:o(t,"FullYear",i).toString(),b:Flotr.Date.monthNames[o(t,"Month",i)]},a=[],r=!1,l=0;l<e.length;++l)n=e.charAt(l),r?(a.push(s[n]||n),r=!1):"%"==n?r=!0:a.push(n);return a.join("")}function h(t){return 1==(t+="").length?"0"+t:t}},getFormat:function(t,e){var i=Flotr.Date.timeUnits;return t<i.second?"%h:%M:%S.%s":t<i.minute?"%h:%M:%S":t<i.day?e<2*i.day?"%h:%M":"%b %d %h:%M":t<i.month?"%b %d":t<i.year?e<i.year?"%b":"%b %y":"%y"},formatter:function(t,e){var i=e.options,n=Flotr.Date.timeUnits[i.timeUnit],o=new Date(t*n);if(e.options.timeFormat)return Flotr.Date.format(o,i.timeFormat,i.timeMode);var s=(e.max-e.min)*n,a=e.tickSize*Flotr.Date.timeUnits[e.tickUnit];return Flotr.Date.format(o,Flotr.Date.getFormat(a,s),i.timeMode)},generator:function(t){var e,i,n,o=this.set,s=this.get,a=this.timeUnits,r=this.spec,l=t.options,h=l.timeMode,c=a[l.timeUnit],u=t.min*c,d=t.max*c,f=(d-u)/l.noTicks,p=[],g=t.tickSize;for(i=l.tickFormatter===Flotr.defaultTickFormatter?this.formatter:l.tickFormatter,n=0;n<r.length-1;++n){var m=r[n][0]*a[r[n][1]];if(f<(m+r[n+1][0]*a[r[n+1][1]])/2&&m>=g)break}g=r[n][0],"year"==(e=r[n][1])&&.5==(g=Flotr.getTickSize(l.noTicks*a.year,u,d,0))&&(e="month",g=6),t.tickUnit=e,t.tickSize=g;var x=g*a[e];function v(t){o(m,t,h,Flotr.floorInBase(s(m,t,h),g))}switch(m=new Date(u),e){case"millisecond":v("Milliseconds");break;case"second":v("Seconds");break;case"minute":v("Minutes");break;case"hour":v("Hours");break;case"month":v("Month");break;case"year":v("FullYear")}x>=a.second&&o(m,"Milliseconds",h,0),x>=a.minute&&o(m,"Seconds",h,0),x>=a.hour&&o(m,"Minutes",h,0),x>=a.day&&o(m,"Hours",h,0),x>=4*a.day&&o(m,"Date",h,1),x>=a.year&&o(m,"Month",h,0);var y,b=0,M=NaN;do{if(y=M,M=m.getTime(),p.push({v:M/c,label:i(M/c,t)}),"month"==e)if(g<1){o(m,"Date",h,1);var w=m.getTime();o(m,"Month",h,s(m,"Month",h)+1);var k=m.getTime();m.setTime(M+b*a.hour+(k-w)*g),b=s(m,"Hours",h),o(m,"Hours",h,0)}else o(m,"Month",h,s(m,"Month",h)+g);else"year"==e?o(m,"FullYear",h,s(m,"FullYear",h)+g):m.setTime(M+x)}while(M<d&&M!=y);return p},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:31556952e3},spec:[[1,"millisecond"],[20,"millisecond"],[50,"millisecond"],[100,"millisecond"],[200,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},function(){var t=Flotr._;function e(t){return t&&t.jquery?t[0]:t}Flotr.DOM={addClass:function(i,n){var o=(i=e(i)).className?i.className:"";t.include(o.split(/\s+/g),n)||(i.className=(o?o+" ":"")+n)},create:function(t){return document.createElement(t)},node:function(t){var e,i=Flotr.DOM.create("div");return i.innerHTML=t,e=i.children[0],i.innerHTML="",e},empty:function(t){(t=e(t)).innerHTML=""},remove:function(t){(t=e(t)).parentNode.removeChild(t)},hide:function(t){t=e(t),Flotr.DOM.setStyles(t,{display:"none"})},insert:function(i,n){i=e(i),t.isString(n)?i.innerHTML+=n:t.isElement(n)&&i.appendChild(n)},opacity:function(t,i){(t=e(t)).style.opacity=i},position:function(t,i){return(t=e(t)).offsetParent?((i=this.position(t.offsetParent)).left+=t.offsetLeft,i.top+=t.offsetTop,i):{left:t.offsetLeft||0,top:t.offsetTop||0}},removeClass:function(i,n){var o=i.className?i.className:"";(i=e(i)).className=t.filter(o.split(/\s+/g),function(t){if(t!=n)return!0}).join(" ")},setStyles:function(i,n){i=e(i),t.each(n,function(t,e){i.style[e]=t})},show:function(t){t=e(t),Flotr.DOM.setStyles(t,{display:""})},size:function(t){return{height:(t=e(t)).offsetHeight,width:t.offsetWidth}}}}(),function(){var t=Flotr,e=t.bean;t.EventAdapter={observe:function(t,i,n){return e.add(t,i,n),this},fire:function(t,i,n){return e.fire(t,i,n),"undefined"!=typeof Prototype&&Event.fire(t,i,n),this},stopObserving:function(t,i,n){return e.remove(t,i,n),this},eventPointer:function(e){if(!t._.isUndefined(e.touches)&&e.touches.length>0)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(!t._.isUndefined(e.changedTouches)&&e.changedTouches.length>0)return{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY};if(e.pageX||e.pageY)return{x:e.pageX,y:e.pageY};if(e.clientX||e.clientY){var i=document,n=i.body,o=i.documentElement;return{x:e.clientX+n.scrollLeft+o.scrollLeft,y:e.clientY+n.scrollTop+o.scrollTop}}}}}(),function(){var t=Flotr,e=t.DOM,i=t._,n=function(t){this.o=t};n.prototype={dimensions:function(t,e,i,n){return t?this.o.html?this.html(t,this.o.element,i,n):this.canvas(t,e):{width:0,height:0}},canvas:function(e,i){if(this.o.textEnabled){i=i||{};var n=this.measureText(e,i).width,o=i.size||t.defaultOptions.fontSize,s=i.angle||0,a=Math.cos(s),r=Math.sin(s);return{width:Math.abs(a*n)+Math.abs(r*o)+2,height:Math.abs(r*n)+Math.abs(a*o)+6}}},html:function(t,i,n,o){var s=e.create("div");return e.setStyles(s,{position:"absolute",top:"-10000px"}),e.insert(s,'<div style="'+n+'" class="'+o+' flotr-dummy-div">'+t+"</div>"),e.insert(this.o.element,s),e.size(s)},measureText:function(e,n){var o,s=this.o.ctx;return!s.fillText||t.isIphone&&s.measure?{width:s.measure(e,n)}:(n=i.extend({size:t.defaultOptions.fontSize,weight:1,angle:0},n),s.save(),s.font=(n.weight>1?"bold ":"")+1.3*n.size+"px sans-serif",o=s.measureText(e),s.restore(),o)}},Flotr.Text=n}(),function(){var t=Flotr.DOM,e=Flotr.EventAdapter,i=Flotr._,n=Flotr;function o(t,i,n){return e.observe.apply(this,arguments),this._handles.push(arguments),this}Graph=function(t,o,s){this._setEl(t),this._initMembers(),this._initPlugins(),e.fire(this.el,"flotr:beforeinit",[this]),this.data=o,this.series=n.Series.getSeries(o),this._initOptions(s),this._initGraphTypes(),this._initCanvas(),this._text=new n.Text({element:this.el,ctx:this.ctx,html:this.options.HtmlText,textEnabled:this.textEnabled}),e.fire(this.el,"flotr:afterconstruct",[this]),this._initEvents(),this.findDataRanges(),this.calculateSpacing(),this.draw(i.bind(function(){e.fire(this.el,"flotr:afterinit",[this])},this))},Graph.prototype={destroy:function(){e.fire(this.el,"flotr:destroy"),i.each(this._handles,function(t){e.stopObserving.apply(this,t)}),this._handles=[],this.el.graph=null},observe:o,_observe:o,processColor:function(t,e){var o={x1:0,y1:0,x2:this.plotWidth,y2:this.plotHeight,opacity:1,ctx:this.ctx};return i.extend(o,e),n.Color.processColor(t,o)},findDataRanges:function(){var t,e,o,s=this.axes;i.each(this.series,function(i){(o=i.getRange())&&(t=i.xaxis,e=i.yaxis,t.datamin=Math.min(o.xmin,t.datamin),t.datamax=Math.max(o.xmax,t.datamax),e.datamin=Math.min(o.ymin,e.datamin),e.datamax=Math.max(o.ymax,e.datamax),t.used=t.used||o.xused,e.used=e.used||o.yused)},this),s.x.used||s.x2.used||(s.x.used=!0),s.y.used||s.y2.used||(s.y.used=!0),i.each(s,function(t){t.calculateRange()});var a=i.keys(n.graphTypes),r=!1;i.each(this.series,function(t){t.hide||(i.each(a,function(e){t[e]&&t[e].show&&(this.extendRange(e,t),r=!0)},this),r||this.extendRange(this.options.defaultType,t))},this)},extendRange:function(t,e){this[t].extendRange&&this[t].extendRange(e,e.data,e[t],this[t]),this[t].extendYRange&&this[t].extendYRange(e.yaxis,e.data,e[t],this[t]),this[t].extendXRange&&this[t].extendXRange(e.xaxis,e.data,e[t],this[t])},calculateSpacing:function(){var t,e,n=this.axes,o=this.options,s=this.series,a=o.grid.labelMargin,r=this._text,l=n.x,h=n.x2,c=n.y,u=n.y2,d=o.grid.outlineWidth;for(i.each(n,function(t){t.calculateTicks(),t.calculateTextDimensions(r,o)}),e=r.dimensions(o.title,{size:1.5*o.fontSize},"font-size:1em;font-weight:bold;","flotr-title"),this.titleHeight=e.height,e=r.dimensions(o.subtitle,{size:o.fontSize},"font-size:smaller;","flotr-subtitle"),this.subtitleHeight=e.height,t=0;t<o.length;++t)s[t].points.show&&(d=Math.max(d,s[t].points.radius+s[t].points.lineWidth/2));var f=this.plotOffset;!1===l.options.margin?(f.bottom=0,f.top=0):!0===l.options.margin?(f.bottom+=(o.grid.circular?0:l.used&&l.options.showLabels?l.maxLabel.height+a:0)+(l.used&&l.options.title?l.titleSize.height+a:0)+d,f.top+=(o.grid.circular?0:h.used&&h.options.showLabels?h.maxLabel.height+a:0)+(h.used&&h.options.title?h.titleSize.height+a:0)+this.subtitleHeight+this.titleHeight+d):(f.bottom=l.options.margin,f.top=l.options.margin),!1===c.options.margin?(f.left=0,f.right=0):!0===c.options.margin?(f.left+=(o.grid.circular?0:c.used&&c.options.showLabels?c.maxLabel.width+a:0)+(c.used&&c.options.title?c.titleSize.width+a:0)+d,f.right+=(o.grid.circular?0:u.used&&u.options.showLabels?u.maxLabel.width+a:0)+(u.used&&u.options.title?u.titleSize.width+a:0)+d):(f.left=c.options.margin,f.right=c.options.margin),f.top=Math.floor(f.top),this.plotWidth=this.canvasWidth-f.left-f.right,this.plotHeight=this.canvasHeight-f.bottom-f.top,l.length=h.length=this.plotWidth,c.length=u.length=this.plotHeight,c.offset=u.offset=this.plotHeight,l.setScale(),h.setScale(),c.setScale(),u.setScale()},draw:function(t){var i,n=this.ctx;if(e.fire(this.el,"flotr:beforedraw",[this.series,this]),this.series.length){for(n.save(),n.translate(this.plotOffset.left,this.plotOffset.top),i=0;i<this.series.length;i++)this.series[i].hide||this.drawSeries(this.series[i]);n.restore(),this.clip()}e.fire(this.el,"flotr:afterdraw",[this.series,this]),t&&t()},drawSeries:function(t){function e(t,e){var i=this.getOptions(t,e);this[e].draw(i)}var o=!1;t=t||this.series,i.each(n.graphTypes,function(i,n){t[n]&&t[n].show&&this[n]&&(o=!0,e.call(this,t,n))},this),o||e.call(this,t,this.options.defaultType)},getOptions:function(t,e){var i=t[e],o=(this[e],t.xaxis),s=t.yaxis,a={context:this.ctx,width:this.plotWidth,height:this.plotHeight,fontSize:this.options.fontSize,fontColor:this.options.fontColor,textEnabled:this.textEnabled,htmlText:this.options.HtmlText,text:this._text,element:this.el,data:t.data,color:t.color,shadowSize:t.shadowSize,xScale:o.d2p,yScale:s.d2p,xInverse:o.p2d,yInverse:s.p2d};return(a=n.merge(i,a)).fillStyle=this.processColor(i.fillColor||t.color,{opacity:i.fillOpacity}),a},getEventPosition:function(i){var n,o,s,a=document,r=a.body,l=a.documentElement,h=this.axes,c=this.plotOffset,u=this.lastMousePos,d=e.eventPointer(i),f=d.x-u.pageX,p=d.y-u.pageY;return"ontouchstart"in this.el?(n=t.position(this.overlay),o=d.x-n.left-c.left,s=d.y-n.top-c.top):(n=this.overlay.getBoundingClientRect(),o=i.clientX-n.left-c.left-r.scrollLeft-l.scrollLeft,s=i.clientY-n.top-c.top-r.scrollTop-l.scrollTop),{x:h.x.p2d(o),x2:h.x2.p2d(o),y:h.y.p2d(s),y2:h.y2.p2d(s),relX:o,relY:s,dX:f,dY:p,absX:d.x,absY:d.y,pageX:d.x,pageY:d.y}},clickHandler:function(t){if(this.ignoreClick)return this.ignoreClick=!1,this.ignoreClick;e.fire(this.el,"flotr:click",[this.getEventPosition(t),this])},mouseMoveHandler:function(t){if(!this.mouseDownMoveHandler){var i=this.getEventPosition(t);e.fire(this.el,"flotr:mousemove",[t,i,this]),this.lastMousePos=i}},mouseDownHandler:function(t){this.mouseUpHandler||(this.mouseUpHandler=i.bind(function(t){e.stopObserving(document,"mouseup",this.mouseUpHandler),e.stopObserving(document,"mousemove",this.mouseDownMoveHandler),this.mouseDownMoveHandler=null,this.mouseUpHandler=null,e.fire(this.el,"flotr:mouseup",[t,this])},this),this.mouseDownMoveHandler=i.bind(function(i){var n=this.getEventPosition(i);e.fire(this.el,"flotr:mousemove",[t,n,this]),this.lastMousePos=n},this),e.observe(document,"mouseup",this.mouseUpHandler),e.observe(document,"mousemove",this.mouseDownMoveHandler),e.fire(this.el,"flotr:mousedown",[t,this]),this.ignoreClick=!1)},drawTooltip:function(e,i,n,o){var s=this.getMouseTrack(),a="opacity:0.7;background-color:#000;color:#fff;display:none;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;",r=o.position,l=o.margin,h=this.plotOffset;null!==i&&null!==n?(o.relative?("n"==r.charAt(0)?a+="bottom:"+(l-h.top-n+this.canvasHeight)+"px;top:auto;":"s"==r.charAt(0)&&(a+="top:"+(l+h.top+n)+"px;bottom:auto;"),"e"==r.charAt(1)?a+="left:"+(l+h.left+i)+"px;right:auto;":"w"==r.charAt(1)&&(a+="right:"+(l-h.left-i+this.canvasWidth)+"px;left:auto;")):("n"==r.charAt(0)?a+="top:"+(l+h.top)+"px;bottom:auto;":"s"==r.charAt(0)&&(a+="bottom:"+(l+h.bottom)+"px;top:auto;"),"e"==r.charAt(1)?a+="right:"+(l+h.right)+"px;left:auto;":"w"==r.charAt(1)&&(a+="left:"+(l+h.left)+"px;right:auto;")),s.style.cssText=a,t.empty(s),t.insert(s,e),t.show(s)):t.hide(s)},clip:function(t){var e=this.plotOffset,i=this.canvasWidth,o=this.canvasHeight;if(t=t||this.ctx,n.isIE&&n.isIE<9&&!n.isFlashCanvas){if(t===this.octx)return;t.save(),t.fillStyle=this.processColor(this.options.ieBackgroundColor),t.fillRect(0,0,i,e.top),t.fillRect(0,0,e.left,o),t.fillRect(0,o-e.bottom,i,e.bottom),t.fillRect(i-e.right,0,e.right,o),t.restore()}else t.clearRect(0,0,i,e.top),t.clearRect(0,0,e.left,o),t.clearRect(0,o-e.bottom,i,e.bottom),t.clearRect(i-e.right,0,e.right,o)},_initMembers:function(){this._handles=[],this.lastMousePos={pageX:null,pageY:null},this.plotOffset={left:0,right:0,top:0,bottom:0},this.ignoreClick=!0,this.prevHit=null},_initGraphTypes:function(){i.each(n.graphTypes,function(t,e){this[e]=n.clone(t)},this)},_initEvents:function(){var t,n,o,s=this.el;"ontouchstart"in s?(t=i.bind(function(i){o=!0,e.stopObserving(document,"touchend",t),e.fire(s,"flotr:mouseup",[event,this]),this.multitouches=null,n||this.clickHandler(i)},this),this.observe(this.overlay,"touchstart",i.bind(function(i){n=!1,o=!1,this.ignoreClick=!1,i.touches&&i.touches.length>1&&(this.multitouches=i.touches),e.fire(s,"flotr:mousedown",[event,this]),this.observe(document,"touchend",t)},this)),this.observe(this.overlay,"touchmove",i.bind(function(t){var i=this.getEventPosition(t);this.options.preventDefault&&t.preventDefault(),n=!0,this.multitouches||t.touches&&t.touches.length>1?this.multitouches=t.touches:o||e.fire(s,"flotr:mousemove",[event,i,this]),this.lastMousePos=i},this))):this.observe(this.overlay,"mousedown",i.bind(this.mouseDownHandler,this)).observe(s,"mousemove",i.bind(this.mouseMoveHandler,this)).observe(this.overlay,"click",i.bind(this.clickHandler,this)).observe(s,"mouseout",function(t){e.fire(s,"flotr:mouseout",t)})},_initCanvas:function(){var e,n,o,s=this.el,a=this.options,r=s.children,l=[];for(n=r.length;n--;)e=r[n],this.canvas||"flotr-canvas"!==e.className?this.overlay||"flotr-overlay"!==e.className?l.push(e):this.overlay=e:this.canvas=e;for(n=l.length;n--;)s.removeChild(l[n]);if(t.setStyles(s,{position:"relative"}),(o={}).width=s.clientWidth,o.height=s.clientHeight,o.width<=0||o.height<=0||a.resolution<=0)throw"Invalid dimensions for plot, width = "+o.width+", height = "+o.height+", resolution = "+a.resolution;function h(e,n){return e||(e=t.create("canvas"),"undefined"!=typeof FlashCanvas&&"function"==typeof e.getContext&&(FlashCanvas.initElement(e),this.isFlashCanvas=!0),e.className="flotr-"+n,e.style.cssText="position:absolute;left:0px;top:0px;",t.insert(s,e)),i.each(o,function(i,o){t.show(e),"canvas"==n&&e.getAttribute(o)===i||(e.setAttribute(o,i*a.resolution),e.style[o]=i+"px")}),e.context_=null,e}function c(t){window.G_vmlCanvasManager&&window.G_vmlCanvasManager.initElement(t);var e=t.getContext("2d");return window.G_vmlCanvasManager||e.scale(a.resolution,a.resolution),e}this.canvas=h(this.canvas,"canvas"),this.overlay=h(this.overlay,"overlay"),this.ctx=c(this.canvas),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.octx=c(this.overlay),this.octx.clearRect(0,0,this.overlay.width,this.overlay.height),this.canvasHeight=o.height,this.canvasWidth=o.width,this.textEnabled=!!this.ctx.drawText||!!this.ctx.fillText},_initPlugins:function(){i.each(n.plugins,function(t,e){i.each(t.callbacks,function(t,e){this.observe(this.el,e,i.bind(t,this))},this),this[e]=n.clone(t),i.each(this[e],function(t,n){i.isFunction(t)&&(this[e][n]=i.bind(t,this))},this)},this)},_initOptions:function(t){var o=n.clone(n.defaultOptions);o.x2axis=i.extend(i.clone(o.xaxis),o.x2axis),o.y2axis=i.extend(i.clone(o.yaxis),o.y2axis),this.options=n.merge(t||{},o),null===this.options.grid.minorVerticalLines&&"logarithmic"===this.options.xaxis.scaling&&(this.options.grid.minorVerticalLines=!0),null===this.options.grid.minorHorizontalLines&&"logarithmic"===this.options.yaxis.scaling&&(this.options.grid.minorHorizontalLines=!0),e.fire(this.el,"flotr:afterinitoptions",[this]),this.axes=n.Axis.getAxes(this.options);var s,a,r,l,h=[],c=[],u=this.series.length,d=this.series.length,f=this.options.colors,p=[],g=0;for(a=d-1;a>-1;--a)(s=this.series[a].color)&&(--d,i.isNumber(s)?h.push(s):p.push(n.Color.parse(s)));for(a=h.length-1;a>-1;--a)d=Math.max(d,h[a]+1);for(a=0;c.length<d;){s=f.length==a?new n.Color(100,100,100):n.Color.parse(f[a]);var m=1+(g%2==1?-1:1)*Math.ceil(g/2)*.2;s.scale(m,m,m),c.push(s),++a>=f.length&&(a=0,++g)}for(a=0,r=0;a<u;++a){for(var x in(l=this.series[a]).color?i.isNumber(l.color)&&(l.color=c[l.color].toString()):l.color=c[r++].toString(),l.xaxis||(l.xaxis=this.axes.x),1==l.xaxis?l.xaxis=this.axes.x:2==l.xaxis&&(l.xaxis=this.axes.x2),l.yaxis||(l.yaxis=this.axes.y),1==l.yaxis?l.yaxis=this.axes.y:2==l.yaxis&&(l.yaxis=this.axes.y2),n.graphTypes)l[x]=i.extend(i.clone(this.options[x]),l[x]);l.mouse=i.extend(i.clone(this.options.mouse),l.mouse),i.isUndefined(l.shadowSize)&&(l.shadowSize=this.options.shadowSize)}},_setEl:function(t){if(!t)throw"The target container doesn't exist";if(t.graph instanceof Graph)t.graph.destroy();else if(!t.clientWidth)throw"The target container must be visible";t.graph=this,this.el=t}},Flotr.Graph=Graph}(),function(){var t=Flotr._;function e(e){this.orientation=1,this.offset=0,this.datamin=Number.MAX_VALUE,this.datamax=-Number.MAX_VALUE,t.extend(this,e)}function n(t,e){return t=Math.log(Math.max(t,Number.MIN_VALUE)),e!==Math.E&&(t/=Math.log(e)),t}e.prototype={setScale:function(){var t,e=this.length,i=this.max,o=this.min,s=this.offset,a=this.orientation,r=this.options,l="logarithmic"===r.scaling;t=l?e/(n(i,r.base)-n(o,r.base)):e/(i-o),this.scale=t,l?(this.d2p=function(e){return s+a*(n(e,r.base)-n(o,r.base))*t},this.p2d=function(e){return i=(s+a*e)/t+n(o,r.base),(l=r.base)===Math.E?Math.exp(i):Math.pow(l,i);var i,l}):(this.d2p=function(e){return s+a*(e-o)*t},this.p2d=function(e){return(s+a*e)/t+o})},calculateTicks:function(){var e=this.options;this.ticks=[],this.minorTicks=[],e.ticks?(this._cleanUserTicks(e.ticks,this.ticks),this._cleanUserTicks(e.minorTicks||[],this.minorTicks)):"time"==e.mode?this._calculateTimeTicks():"logarithmic"===e.scaling?this._calculateLogTicks():this._calculateTicks(),t.each(this.ticks,function(t){t.label+=""}),t.each(this.minorTicks,function(t){t.label+=""})},calculateRange:function(){if(this.used){var t=this.options,e=null!==t.min?t.min:this.datamin,i=null!==t.max?t.max:this.datamax,n=t.autoscaleMargin;if("logarithmic"==t.scaling&&(e<=0&&(e=this.datamin),i<=0&&(i=e)),i==e){var o=i?.01:1;null===t.min&&(e-=o),null===t.max&&(i+=o)}if("logarithmic"===t.scaling){e<0&&(e=i/t.base);var s=Math.log(i);t.base!=Math.E&&(s/=Math.log(t.base)),s=Math.ceil(s);var a=Math.log(e);t.base!=Math.E&&(a/=Math.log(t.base)),a=Math.ceil(a),this.tickSize=Flotr.getTickSize(t.noTicks,a,s,null===t.tickDecimals?0:t.tickDecimals),null===t.minorTickFreq&&(t.minorTickFreq=s-a>10?0:s-a>5?2:5)}else this.tickSize=Flotr.getTickSize(t.noTicks,e,i,t.tickDecimals);this.min=e,this.max=i,null===t.min&&t.autoscale&&(this.min-=this.tickSize*n,this.min<0&&this.datamin>=0&&(this.min=0),this.min=this.tickSize*Math.floor(this.min/this.tickSize)),null===t.max&&t.autoscale&&(this.max+=this.tickSize*n,this.max>0&&this.datamax<=0&&this.datamax!=this.datamin&&(this.max=0),this.max=this.tickSize*Math.ceil(this.max/this.tickSize)),this.min==this.max&&(this.max=this.min+1)}},calculateTextDimensions:function(t,e){var i,n="";if(this.options.showLabels)for(i=0;i<this.ticks.length;++i)this.ticks[i].label.length>n.length&&(n=this.ticks[i].label);this.maxLabel=t.dimensions(n,{size:e.fontSize,angle:Flotr.toRad(this.options.labelsAngle)},"font-size:smaller;","flotr-grid-label"),this.titleSize=t.dimensions(this.options.title,{size:1.2*e.fontSize,angle:Flotr.toRad(this.options.titleAngle)},"font-weight:bold;","flotr-axis-title")},_cleanUserTicks:function(e,i){var n,o,s,a,r=this.options;for(t.isFunction(e)&&(e=e({min:this.min,max:this.max})),o=0;o<e.length;++o)"object"==typeof(a=e[o])?(n=a[0],s=a.length>1?a[1]:r.tickFormatter(n,{min:this.min,max:this.max})):(n=a,s=r.tickFormatter(n,{min:this.min,max:this.max})),i[o]={v:n,label:s}},_calculateTimeTicks:function(){this.ticks=Flotr.Date.generator(this)},_calculateLogTicks:function(){var t,e,n=this.options,o=Math.log(this.max);n.base!=Math.E&&(o/=Math.log(n.base)),o=Math.ceil(o);var s=Math.log(this.min);for(n.base!=Math.E&&(s/=Math.log(n.base)),s=Math.ceil(s),i=s;i<o;i+=this.tickSize){var a=(e=n.base==Math.E?Math.exp(i):Math.pow(n.base,i))*(n.base==Math.E?Math.exp(this.tickSize):Math.pow(n.base,this.tickSize)),r=(a-e)/n.minorTickFreq;for(this.ticks.push({v:e,label:n.tickFormatter(e,{min:this.min,max:this.max})}),t=e+r;t<a;t+=r)this.minorTicks.push({v:t,label:n.tickFormatter(t,{min:this.min,max:this.max})})}e=n.base==Math.E?Math.exp(i):Math.pow(n.base,i),this.ticks.push({v:e,label:n.tickFormatter(e,{min:this.min,max:this.max})})},_calculateTicks:function(){var t,e,i,n,o,s,a=this.options,r=this.tickSize,l=this.min,h=this.max,c=r*Math.ceil(l/r);for(a.minorTickFreq&&(e=r/a.minorTickFreq),o=0;(i=n=c+o*r)<=h;++o)if(null===(t=a.tickDecimals)&&(t=1-Math.floor(Math.log(r)/Math.LN10)),t<0&&(t=0),i=i.toFixed(t),this.ticks.push({v:i,label:a.tickFormatter(i,{min:this.min,max:this.max})}),a.minorTickFreq)for(s=0;s<a.minorTickFreq&&o*r+s*e<h;++s)i=n+s*e,this.minorTicks.push({v:i,label:a.tickFormatter(i,{min:this.min,max:this.max})})}},t.extend(e,{getAxes:function(t){return{x:new e({options:t.xaxis,n:1,length:this.plotWidth}),x2:new e({options:t.x2axis,n:2,length:this.plotWidth}),y:new e({options:t.yaxis,n:1,length:this.plotHeight,offset:this.plotHeight,orientation:-1}),y2:new e({options:t.y2axis,n:2,length:this.plotHeight,offset:this.plotHeight,orientation:-1})}}}),Flotr.Axis=e}(),function(){var t=Flotr._;function e(e){t.extend(this,e)}e.prototype={getRange:function(){var t,e,i,n=this.data,o=n.length,s=Number.MAX_VALUE,a=Number.MAX_VALUE,r=-Number.MAX_VALUE,l=-Number.MAX_VALUE,h=!1,c=!1;if(o<0||this.hide)return!1;for(i=0;i<o;i++)null!==(t=n[i][0])&&(t<s&&(s=t,h=!0),t>r&&(r=t,h=!0)),null!==(e=n[i][1])&&(e<a&&(a=e,c=!0),e>l&&(l=e,c=!0));return{xmin:s,xmax:r,ymin:a,ymax:l,xused:h,yused:c}}},t.extend(e,{getSeries:function(i){return t.map(i,function(i){var n;return i.data?(n=new e,t.extend(n,i)):n=new e({data:i}),n})}}),Flotr.Series=e}(),Flotr.addType("lines",{options:{show:!1,lineWidth:2,fill:!1,fillBorder:!1,fillColor:null,fillOpacity:.4,steps:!1,stacked:!1},stack:{values:[]},draw:function(t){var e,i=t.context,n=t.lineWidth,o=t.shadowSize;i.save(),i.lineJoin="round",o&&(i.lineWidth=o/2,e=n/2+i.lineWidth/2,i.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,e+o/2,!1),i.strokeStyle="rgba(0,0,0,0.2)",this.plot(t,e,!1)),i.lineWidth=n,i.strokeStyle=t.color,this.plot(t,0,!0),i.restore()},plot:function(t,e,i){var n,o,s,a,r,l,h,c=t.context,u=t.width,d=t.height,f=t.xScale,p=t.yScale,g=t.data,m=!!t.stacked&&this.stack,x=g.length-1,v=null,y=null,b=p(0),M=null;if(!(x<1)){for(c.beginPath(),h=0;h<x;++h)null!==g[h][1]&&null!==g[h+1][1]?(n=f(g[h][0]),o=f(g[h+1][0]),null===M&&(M=g[h]),m?(r=m.values[g[h][0]]||0,l=m.values[g[h+1][0]]||m.values[g[h][0]]||0,s=p(g[h][1]+r),a=p(g[h+1][1]+l),i&&(g[h].y0=r,m.values[g[h][0]]=g[h][1]+r,h==x-1&&(g[h+1].y0=l,m.values[g[h+1][0]]=g[h+1][1]+l))):(s=p(g[h][1]),a=p(g[h+1][1])),s>d&&a>d||s<0&&a<0||n<0&&o<0||n>u&&o>u||(v==n&&y==s+e||c.moveTo(n,s+e),v=o,y=a+e,t.steps?(c.lineTo(v+e/2,s+e),c.lineTo(v+e/2,y)):c.lineTo(v,y))):t.fill&&h>0&&null!==g[h][1]&&(c.stroke(),w(),M=null,c.closePath(),c.beginPath());(!t.fill||t.fill&&!t.fillBorder)&&c.stroke(),w(),c.closePath()}function w(){!e&&t.fill&&M&&(n=f(M[0]),c.fillStyle=t.fillStyle,c.lineTo(o,b),c.lineTo(n,b),c.lineTo(n,p(M[1])),c.fill(),t.fillBorder&&c.stroke())}},extendYRange:function(t,e,i,n){var o=t.options;if(i.stacked&&(!o.max&&0!==o.max||!o.min&&0!==o.min)){var s,a,r=t.max,l=t.min,h=n.positiveSums||{},c=n.negativeSums||{};for(a=0;a<e.length;a++)s=e[a][0]+"",e[a][1]>0?(h[s]=(h[s]||0)+e[a][1],r=Math.max(r,h[s])):(c[s]=(c[s]||0)+e[a][1],l=Math.min(l,c[s]));n.negativeSums=c,n.positiveSums=h,t.max=r,t.min=l}i.steps&&(this.hit=function(t){var e,i=t.data,n=t.args,o=t.yScale,s=n[0],a=i.length,r=n[1],l=t.xInverse(s.relX),h=s.relY;for(e=0;e<a-1;e++)if(l>=i[e][0]&&l<=i[e+1][0]){Math.abs(o(i[e][1])-h)<8&&(r.x=i[e][0],r.y=i[e][1],r.index=e,r.seriesIndex=t.index);break}},this.drawHit=function(t){var e,i=t.context,n=t.args,o=t.data,s=t.xScale,a=n.index,r=s(n.x),l=t.yScale(n.y);o.length-1>a&&(e=t.xScale(o[a+1][0]),i.save(),i.strokeStyle=t.color,i.lineWidth=t.lineWidth,i.beginPath(),i.moveTo(r,l),i.lineTo(e,l),i.stroke(),i.closePath(),i.restore())},this.clearHit=function(t){var e,i=t.context,n=t.args,o=t.data,s=t.xScale,a=t.lineWidth,r=n.index,l=s(n.x),h=t.yScale(n.y);o.length-1>r&&(e=t.xScale(o[r+1][0]),i.clearRect(l-a,h-a,e-l+2*a,2*a))})}}),Flotr.addType("bars",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,horizontal:!1,stacked:!1,centered:!0,topPadding:.1,grouped:!1},stack:{positive:[],negative:[],_positive:[],_negative:[]},draw:function(t){var e=t.context;this.current+=1,e.save(),e.lineJoin="miter",e.lineWidth=t.lineWidth,e.strokeStyle=t.color,t.fill&&(e.fillStyle=t.fillStyle),this.plot(t),e.restore()},plot:function(t){var e,i,n,o,s,a,r=t.data,l=t.context,h=t.shadowSize;if(!(r.length<1))for(this.translate(l,t.horizontal),e=0;e<r.length;e++)null!==(i=this.getBarGeometry(r[e][0],r[e][1],t))&&(n=i.left,o=i.top,s=i.width,a=i.height,t.fill&&l.fillRect(n,o,s,a),h&&(l.save(),l.fillStyle="rgba(0,0,0,0.05)",l.fillRect(n+h,o+h,s,a),l.restore()),t.lineWidth&&l.strokeRect(n,o,s,a))},translate:function(t,e){e&&(t.rotate(-Math.PI/2),t.scale(-1,1))},getBarGeometry:function(t,e,i){var n,o,s,a,r,l=i.horizontal,h=i.barWidth,c=i.centered,u=!!i.stacked&&this.stack,d=i.lineWidth,f=c?h/2:0,p=l?i.yScale:i.xScale,g=l?i.xScale:i.yScale,m=l?e:t,x=l?t:e,v=0;return i.grouped&&(this.current,this.groups,m-=f,f=(h/=this.groups)/2,m=m+h*this.current-f),u&&(v=(n=x>0?u.positive:u.negative)[m]||v,n[m]=v+x),o=p(m-f),s=p(m+h-f),a=g(x+v),(r=g(v))<0&&(r=0),null===t||null===e?null:{x:m,y:x,xScale:p,yScale:g,top:a,left:Math.min(o,s)-d/2,width:Math.abs(s-o)-d,height:r-a}},hit:function(t){var e,i,n=t.data,o=t.args,s=o[0],a=o[1],r=t.xInverse(s.relX),l=t.yInverse(s.relY),h=this.getBarGeometry(r,l,t),c=h.width/2,u=h.left,d=h.y;for(i=n.length;i--;)e=this.getBarGeometry(n[i][0],n[i][1],t),(d>0&&d<e.y||d<0&&d>e.y)&&Math.abs(u-e.left)<c&&(a.x=n[i][0],a.y=n[i][1],a.index=i,a.seriesIndex=t.index)},drawHit:function(t){var e=t.context,i=t.args,n=this.getBarGeometry(i.x,i.y,t),o=n.left,s=n.top,a=n.width,r=n.height;e.save(),e.strokeStyle=t.color,e.lineWidth=t.lineWidth,this.translate(e,t.horizontal),e.beginPath(),e.moveTo(o,s+r),e.lineTo(o,s),e.lineTo(o+a,s),e.lineTo(o+a,s+r),t.fill&&(e.fillStyle=t.fillStyle,e.fill()),e.stroke(),e.closePath(),e.restore()},clearHit:function(t){var e=t.context,i=t.args,n=this.getBarGeometry(i.x,i.y,t),o=n.left,s=n.width,a=n.top,r=n.height,l=2*t.lineWidth;e.save(),this.translate(e,t.horizontal),e.clearRect(o-l,Math.min(a,a+r)-l,s+2*l,Math.abs(r)+2*l),e.restore()},extendXRange:function(t,e,i,n){this._extendRange(t,e,i,n),this.groups=this.groups+1||1,this.current=0},extendYRange:function(t,e,i,n){this._extendRange(t,e,i,n)},_extendRange:function(t,e,i,n){var o=t.options.max;if(!_.isNumber(o)&&!_.isString(o)){var s,a,r,l=t.min,h=t.max,c=i.horizontal,u=t.orientation,d=this.positiveSums||{},f=this.negativeSums||{};if((1==u&&!c||-1==u&&c)&&i.centered&&(h=Math.max(t.datamax+i.barWidth,h),l=Math.min(t.datamin-i.barWidth,l)),i.stacked&&(1==u&&c||-1==u&&!c))for(r=e.length;r--;)s=e[r][1==u?1:0]+"",(a=e[r][1==u?0:1])>0?(d[s]=(d[s]||0)+a,h=Math.max(h,d[s])):(f[s]=(f[s]||0)+a,l=Math.min(l,f[s]));(1==u&&c||-1==u&&!c)&&i.topPadding&&(t.max===t.datamax||i.stacked&&this.stackMax!==h)&&(h+=i.topPadding*(h-l)),this.stackMin=l,this.stackMax=h,this.negativeSums=f,this.positiveSums=d,t.max=h,t.min=l}}}),Flotr.addType("bubbles",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,baseRadius:2},draw:function(t){var e=t.context,i=t.shadowSize;e.save(),e.lineWidth=t.lineWidth,e.fillStyle="rgba(0,0,0,0.05)",e.strokeStyle="rgba(0,0,0,0.05)",this.plot(t,i/2),e.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,i/4),e.strokeStyle=t.color,e.fillStyle=t.fillStyle,this.plot(t),e.restore()},plot:function(t,e){var i,n,o=t.data,s=t.context;for(e=e||0,n=0;n<o.length;++n)i=this.getGeometry(o[n],t),s.beginPath(),s.arc(i.x+e,i.y+e,i.z,0,2*Math.PI,!0),s.stroke(),t.fill&&s.fill(),s.closePath()},getGeometry:function(t,e){return{x:e.xScale(t[0]),y:e.yScale(t[1]),z:t[2]*e.baseRadius}},hit:function(t){var e,n,o,s=t.data,a=t.args,r=a[0],l=a[1],h=r.relX,c=r.relY;for(l.best=l.best||Number.MAX_VALUE,i=s.length;i--;)n=(e=this.getGeometry(s[i],t)).x-h,o=e.y-c,Math.sqrt(n*n+o*o)<e.z&&e.z<l.best&&(l.x=s[i][0],l.y=s[i][1],l.index=i,l.seriesIndex=t.index,l.best=e.z)},drawHit:function(t){var e=t.context,i=this.getGeometry(t.data[t.args.index],t);e.save(),e.lineWidth=t.lineWidth,e.fillStyle=t.fillStyle,e.strokeStyle=t.color,e.beginPath(),e.arc(i.x,i.y,i.z,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath(),e.restore()},clearHit:function(t){var e=t.context,i=this.getGeometry(t.data[t.args.index],t),n=i.z+t.lineWidth;e.save(),e.clearRect(i.x-n,i.y-n,2*n,2*n),e.restore()}}),Flotr.addType("candles",{options:{show:!1,lineWidth:1,wickLineWidth:1,candleWidth:.6,fill:!0,upFillColor:"#00A8F0",downFillColor:"#CB4B4B",fillOpacity:.5,barcharts:!1},draw:function(t){var e=t.context;e.save(),e.lineJoin="miter",e.lineCap="butt",e.lineWidth=t.wickLineWidth||t.lineWidth,this.plot(t),e.restore()},plot:function(t){var e,i,n,o,s,a,r,l,h,c,u,d,f,p,g,m=t.data,x=t.context,v=t.xScale,y=t.yScale,b=t.candleWidth/2,M=t.shadowSize,w=t.lineWidth,k=t.wickLineWidth,S=k%2/2;if(!(m.length<1))for(g=0;g<m.length;g++)n=(i=m[g])[0],o=i[1],s=i[2],a=i[3],r=i[4],l=v(n-b),h=v(n+b),c=y(a),u=y(s),d=y(Math.min(o,r)),f=y(Math.max(o,r)),e=t[o>r?"downFillColor":"upFillColor"],t.fill&&!t.barcharts&&(x.fillStyle="rgba(0,0,0,0.05)",x.fillRect(l+M,f+M,h-l,d-f),x.save(),x.globalAlpha=t.fillOpacity,x.fillStyle=e,x.fillRect(l,f+w,h-l,d-f),x.restore()),(w||k)&&(n=Math.floor((l+h)/2)+S,x.strokeStyle=e,x.beginPath(),t.barcharts?(x.moveTo(n,Math.floor(u+w)),x.lineTo(n,Math.floor(c+w)),p=o<r,x.moveTo(p?h:l,Math.floor(f+w)),x.lineTo(n,Math.floor(f+w)),x.moveTo(n,Math.floor(d+w)),x.lineTo(p?l:h,Math.floor(d+w))):(x.strokeRect(l,f+w,h-l,d-f),x.moveTo(n,Math.floor(f+w)),x.lineTo(n,Math.floor(u+w)),x.moveTo(n,Math.floor(d+w)),x.lineTo(n,Math.floor(c+w))),x.closePath(),x.stroke())},hit:function(t){var e,i,n,o,s,a,r,l,h=t.xScale,c=t.yScale,u=t.data,d=t.args,f=d[0],p=t.candleWidth/2,g=d[1],m=f.relX,x=f.relY,v=u.length;for(e=0;e<v;e++)if(n=(i=u[e])[2],o=i[3],s=h(i[0]-p),a=h(i[0]+p),l=c(o),r=c(n),m>s&&m<a&&x>r&&x<l)return g.x=i[0],g.index=e,void(g.seriesIndex=t.index)},drawHit:function(t){var e=t.context;e.save(),this.plot(_.defaults({fill:!!t.fillColor,upFillColor:t.color,downFillColor:t.color,data:[t.data[t.args.index]]},t)),e.restore()},clearHit:function(t){var e=t.args,i=t.context,n=t.xScale,o=t.yScale,s=t.lineWidth,a=t.candleWidth/2,r=t.data[e.index],l=n(r[0]-a)-s,h=n(r[0]+a)+s,c=o(r[2]),u=o(r[3])+s;i.clearRect(l,c,h-l,u-c)},extendXRange:function(t,e,i){null===t.options.max&&(t.max=Math.max(t.datamax+.5,t.max),t.min=Math.min(t.datamin-.5,t.min))}}),Flotr.addType("gantt",{options:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,fillOpacity:.4,centered:!0},draw:function(t){var e=this.ctx,i=t.gantt.barWidth,n=Math.min(t.gantt.lineWidth,i);if(e.save(),e.translate(this.plotOffset.left,this.plotOffset.top),e.lineJoin="miter",e.lineWidth=n,e.strokeStyle=t.color,e.save(),this.gantt.plotShadows(t,i,0,t.gantt.fill),e.restore(),t.gantt.fill){var o=t.gantt.fillColor||t.color;e.fillStyle=this.processColor(o,{opacity:t.gantt.fillOpacity})}this.gantt.plot(t,i,0,t.gantt.fill),e.restore()},plot:function(t,e,i,n){var o=t.data;if(!(o.length<1)){var s,a=t.xaxis,r=t.yaxis,l=this.ctx;for(s=0;s<o.length;s++){var h=o[s][0],c=o[s][1],u=o[s][2],d=!0,f=!0;if(null!==c&&null!==u){var p=c,g=c+u,m=h-(t.gantt.centered?e/2:0),x=h+e-(t.gantt.centered?e/2:0);g<a.min||p>a.max||x<r.min||m>r.max||(p<a.min&&(p=a.min,d=!1),g>a.max&&(g=a.max,a.lastSerie!=t&&(f=!1)),m<r.min&&(m=r.min),x>r.max&&(x=r.max,r.lastSerie!=t&&(f=!1)),n&&(l.beginPath(),l.moveTo(a.d2p(p),r.d2p(m)+i),l.lineTo(a.d2p(p),r.d2p(x)+i),l.lineTo(a.d2p(g),r.d2p(x)+i),l.lineTo(a.d2p(g),r.d2p(m)+i),l.fill(),l.closePath()),t.gantt.lineWidth&&(l.beginPath(),l.moveTo(a.d2p(p),r.d2p(m)+i),l[d?"lineTo":"moveTo"](a.d2p(p),r.d2p(x)+i),l[f?"lineTo":"moveTo"](a.d2p(g),r.d2p(x)+i),l.lineTo(a.d2p(g),r.d2p(m)+i),l.stroke(),l.closePath()))}}}},plotShadows:function(t,e,i){var n=t.data;if(!(n.length<1)){var o,s,a,r,l=t.xaxis,h=t.yaxis,c=this.ctx,u=this.options.shadowSize;for(o=0;o<n.length;o++)if(s=n[o][0],a=n[o][1],r=n[o][2],null!==a&&null!==r){var d=a,f=a+r,p=s-(t.gantt.centered?e/2:0),g=s+e-(t.gantt.centered?e/2:0);if(!(f<l.min||d>l.max||g<h.min||p>h.max)){d<l.min&&(d=l.min),f>l.max&&(f=l.max),p<h.min&&(p=h.min),g>h.max&&(g=h.max);var m=l.d2p(f)-l.d2p(d)-(l.d2p(f)+u<=this.plotWidth?0:u),x=h.d2p(p)-h.d2p(g)-(h.d2p(p)+u<=this.plotHeight?0:u);c.fillStyle="rgba(0,0,0,0.05)",c.fillRect(Math.min(l.d2p(d)+u,this.plotWidth),Math.min(h.d2p(g)+u,this.plotHeight),m,x)}}}},extendXRange:function(t){if(null===t.options.max){var e,i,n,o,s=t.min,a=t.max,r={},l=null;for(e=0;e<this.series.length;++e)if((o=(n=this.series[e]).gantt).show&&n.xaxis==t){for(i=0;i<n.data.length;i++)o.show&&(y=n.data[i][0]+"",r[y]=Math.max(r[y]||0,n.data[i][1]+n.data[i][2]),l=n);for(i in r)a=Math.max(r[i],a)}t.lastSerie=l,t.max=a,t.min=s}},extendYRange:function(t){if(null===t.options.max){var e,i,n,o,s=Number.MIN_VALUE,a=Number.MAX_VALUE;for(e=0;e<this.series.length;++e)if((o=(n=this.series[e]).gantt).show&&!n.hide&&n.yaxis==t){var r=Number.MIN_VALUE,l=Number.MAX_VALUE;for(i=0;i<n.data.length;i++)r=Math.max(r,n.data[i][0]),l=Math.min(l,n.data[i][0]);o.centered?(s=Math.max(r+.5,s),a=Math.min(l-.5,a)):(s=Math.max(r+1,s),a=Math.min(l,a)),o.barWidth+r>s&&(s=t.max+o.barWidth)}t.lastSerie=null,t.max=s,t.min=a,t.tickSize=Flotr.getTickSize(t.options.noTicks,a,s,t.options.tickDecimals)}}}),function(){function t(t){return"object"==typeof t&&t.constructor&&(!!Image||t.constructor===Image)}Flotr.defaultMarkerFormatter=function(t){return Math.round(100*t.y)/100+""},Flotr.addType("markers",{options:{show:!1,lineWidth:1,color:"#000000",fill:!1,fillColor:"#FFFFFF",fillOpacity:.4,stroke:!1,position:"ct",verticalMargin:0,labelFormatter:Flotr.defaultMarkerFormatter,fontSize:Flotr.defaultOptions.fontSize,stacked:!1,stackingType:"b",horizontal:!1},stack:{positive:[],negative:[],values:[]},draw:function(t){var e,i,n,o,s,a,r,l=t.data,h=t.context,c=!!t.stacked&&t.stack,u=t.stackingType;function d(t,n){return i=c.negative[t]||0,e=c.positive[t]||0,n>0?(c.positive[t]=i+n,i+n):(c.negative[t]=e+n,e+n)}for(h.save(),h.lineJoin="round",h.lineWidth=t.lineWidth,h.strokeStyle="rgba(0,0,0,0.5)",h.fillStyle=t.fillStyle,o=0;o<l.length;++o)s=l[o][0],a=l[o][1],c&&("b"==u?t.horizontal?a=d(a,s):s=d(s,a):"a"==u&&(n=c.values[s]||0,c.values[s]=n+a,a=n+a)),r=t.labelFormatter({x:s,y:a,index:o,data:l}),this.plot(t.xScale(s),t.yScale(a),r,t);h.restore()},plot:function(e,i,n,o){o.context;if(t(n)&&!n.complete)throw"Marker image not loaded.";this._plot(e,i,n,o)},_plot:function(e,i,n,o){var s,a=o.context,r=e,l=i;(s=t(n)?{height:n.height,width:n.width}:o.text.canvas(n)).width=Math.floor(s.width+4),s.height=Math.floor(s.height+4),-1!=o.position.indexOf("c")?r-=s.width/2+2:-1!=o.position.indexOf("l")&&(r-=s.width),-1!=o.position.indexOf("m")?l-=s.height/2+2:-1!=o.position.indexOf("t")?l-=s.height+o.verticalMargin:l+=o.verticalMargin,r=Math.floor(r)+.5,l=Math.floor(l)+.5,o.fill&&a.fillRect(r,l,s.width,s.height),o.stroke&&a.strokeRect(r,l,s.width,s.height),t(n)?a.drawImage(n,parseInt(r+2,10),parseInt(l+2,10)):Flotr.drawText(a,n,r+2,l+2,{textBaseline:"top",textAlign:"left",size:o.fontSize,color:o.color})}})}(),function(){Flotr._;Flotr.defaultPieLabelFormatter=function(t,e){return(100*e/t).toFixed(2)+"%"},Flotr.addType("pie",{options:{show:!1,lineWidth:1,fill:!0,fillColor:null,fillOpacity:.6,explode:6,sizeRatio:.6,startAngle:Math.PI/4,labelFormatter:Flotr.defaultPieLabelFormatter,pie3D:!1,pie3DviewAngle:Math.PI/2*.8,pie3DspliceThickness:20,epsilon:.1},draw:function(t){var e,i,n,o=t.data,s=t.context,a=t.lineWidth,r=t.shadowSize,l=t.sizeRatio,h=t.height,c=t.width,u=t.explode,d=t.color,f=t.fill,p=t.fillStyle,g=Math.min(c,h)*l/2,m=o[0][1],x=[],v=2*Math.PI*m/this.total,y=this.startAngle||2*Math.PI*t.startAngle,b=y+v,M=y+v/2,w=t.labelFormatter(this.total,m),k=u+g+4,S=Math.cos(M)*k,T=Math.sin(M)*k,F=S<0?"right":"left",A=T>0?"top":"bottom";if(s.save(),s.translate(c/2,h/2),s.scale(1,1),i=Math.cos(M)*u,n=Math.sin(M)*u,r>0&&(this.plotSlice(i+r,n+r,g,y,b,s),f&&(s.fillStyle="rgba(0,0,0,0.1)",s.fill())),this.plotSlice(i,n,g,y,b,s),f&&(s.fillStyle=p,s.fill()),s.lineWidth=a,s.strokeStyle=d,s.stroke(),e={size:1.2*t.fontSize,color:t.fontColor,weight:1.5},w&&(t.htmlText||!t.textEnabled?(divStyle="position:absolute;"+A+":"+(h/2+("top"===A?T:-T))+"px;",divStyle+=F+":"+(c/2+("right"===F?-S:S))+"px;",x.push('<div style="',divStyle,'" class="flotr-grid-label">',w,"</div>")):(e.textAlign=F,e.textBaseline=A,Flotr.drawText(s,w,S,T,e))),t.htmlText||!t.textEnabled){var C=Flotr.DOM.node('<div style="color:'+t.fontColor+'" class="flotr-labels"></div>');Flotr.DOM.insert(C,x.join("")),Flotr.DOM.insert(t.element,C)}s.restore(),this.startAngle=b,this.slices=this.slices||[],this.slices.push({radius:g,x:i,y:n,explode:u,start:y,end:b})},plotSlice:function(t,e,i,n,o,s){s.beginPath(),s.moveTo(t,e),s.arc(t,e,i,n,o,!1),s.lineTo(t,e),s.closePath()},hit:function(t){var e=t.data[0],i=t.args,n=t.index,o=i[0],s=i[1],a=this.slices[n],r=o.relX-t.width/2,l=o.relY-t.height/2,h=Math.sqrt(r*r+l*l),c=Math.atan(l/r),u=2*Math.PI,d=a.explode||t.explode,f=a.start%u,p=a.end%u,g=t.epsilon;r<0?c+=Math.PI:r>0&&l<0&&(c+=u),h<a.radius+d&&h>d&&(c>f&&c<p||f>p&&(c<p||c>f)||f===p&&(a.start===a.end&&Math.abs(c-f)<g||a.start!==a.end&&Math.abs(c-f)>g))&&(s.x=e[0],s.y=e[1],s.sAngle=f,s.eAngle=p,s.index=0,s.seriesIndex=n,s.fraction=e[1]/this.total)},drawHit:function(t){var e=t.context,i=this.slices[t.args.seriesIndex];e.save(),e.translate(t.width/2,t.height/2),this.plotSlice(i.x,i.y,i.radius,i.start,i.end,e),e.stroke(),e.restore()},clearHit:function(t){var e=t.context,i=this.slices[t.args.seriesIndex],n=2*t.lineWidth,o=i.radius+n;e.save(),e.translate(t.width/2,t.height/2),e.clearRect(i.x-o,i.y-o,2*o+n,2*o+n),e.restore()},extendYRange:function(t,e){this.total=(this.total||0)+e[0][1]}})}(),Flotr.addType("points",{options:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#FFFFFF",fillOpacity:1,hitRadius:null},draw:function(t){var e=t.context,i=(t.lineWidth,t.shadowSize);e.save(),i>0&&(e.lineWidth=i/2,e.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,i/2+e.lineWidth/2),e.strokeStyle="rgba(0,0,0,0.2)",this.plot(t,e.lineWidth/2)),e.lineWidth=t.lineWidth,e.strokeStyle=t.color,t.fill&&(e.fillStyle=t.fillStyle),this.plot(t),e.restore()},plot:function(t,e){var i,n,o,s=t.data,a=t.context,r=t.xScale,l=t.yScale;for(i=s.length-1;i>-1;--i)null!==(o=s[i][1])&&(n=r(s[i][0]),o=l(o),n<0||n>t.width||o<0||o>t.height||(a.beginPath(),e?a.arc(n,o+e,t.radius,0,Math.PI,!1):(a.arc(n,o,t.radius,0,2*Math.PI,!0),t.fill&&a.fill()),a.stroke(),a.closePath()))}}),Flotr.addType("radar",{options:{show:!1,lineWidth:2,fill:!0,fillOpacity:.4,radiusRatio:.9,sensibility:2},draw:function(t){var e=t.context,i=t.shadowSize;e.save(),e.translate(t.width/2,t.height/2),e.lineWidth=t.lineWidth,e.fillStyle="rgba(0,0,0,0.05)",e.strokeStyle="rgba(0,0,0,0.05)",this.plot(t,i/2),e.strokeStyle="rgba(0,0,0,0.1)",this.plot(t,i/4),e.strokeStyle=t.color,e.fillStyle=t.fillStyle,this.plot(t),e.restore()},plot:function(t,e){var i,n,o=t.data,s=t.context,a=Math.min(t.height,t.width)*t.radiusRatio/2,r=2*Math.PI/o.length,l=-Math.PI/2;for(e=e||0,s.beginPath(),i=0;i<o.length;++i)n=o[i][1]/this.max,s[0===i?"moveTo":"lineTo"](Math.cos(i*r+l)*a*n+e,Math.sin(i*r+l)*a*n+e);s.closePath(),t.fill&&s.fill(),s.stroke()},getGeometry:function(t,e){var i=Math.min(e.height,e.width)*e.radiusRatio/2,n=2*Math.PI/e.data.length,o=-Math.PI/2,s=t[1]/this.max;return{x:Math.cos(t[0]*n+o)*i*s+e.width/2,y:Math.sin(t[0]*n+o)*i*s+e.height/2}},hit:function(t){for(var e,i,n,o=t.args,s=o[0],a=o[1],r=s.relX,l=s.relY,h=0;h<a.series.length;h++)for(var c=a.series[h].data,u=c.length;u--;)if(i=(e=this.getGeometry(c[u],t)).x-r,n=e.y-l,Math.sqrt(i*i+n*n)<2*t.sensibility)return a.x=c[u][0],a.y=c[u][1],a.index=u,a.seriesIndex=h,a},drawHit:function(t){var e=2*Math.PI/t.data.length,i=-Math.PI/2,n=Math.min(t.height,t.width)*t.radiusRatio/2,o=t.args.series,s=o.points.hitRadius||o.points.radius||o.mouse.radius,a=t.context;a.translate(t.width/2,t.height/2);var r=t.args.index,l=t.data[r][1]/this.max,h=Math.cos(r*e+i)*n*l,c=Math.sin(r*e+i)*n*l;a.beginPath(),a.arc(h,c,s,0,2*Math.PI,!0),a.closePath(),a.stroke()},clearHit:function(t){var e=2*Math.PI/t.data.length,i=-Math.PI/2,n=Math.min(t.height,t.width)*t.radiusRatio/2,o=t.context,s=t.args.series,a=s.points?s.points.lineWidth:1;offset=(s.points.hitRadius||s.points.radius||s.mouse.radius)+a,o.translate(t.width/2,t.height/2);var r=t.args.index,l=t.data[r][1]/this.max,h=Math.cos(r*e+i)*n*l,c=Math.sin(r*e+i)*n*l;o.clearRect(h-offset,c-offset,2*offset,2*offset)},extendYRange:function(t,e){this.max=Math.max(t.max,this.max||-Number.MAX_VALUE)}}),Flotr.addType("timeline",{options:{show:!1,lineWidth:1,barWidth:.2,fill:!0,fillColor:null,fillOpacity:.4,centered:!0},draw:function(t){var e=t.context;e.save(),e.lineJoin="miter",e.lineWidth=t.lineWidth,e.strokeStyle=t.color,e.fillStyle=t.fillStyle,this.plot(t),e.restore()},plot:function(t){var e=t.data,i=t.context,n=t.xScale,o=t.yScale,s=t.barWidth,a=t.lineWidth;Flotr._.each(e,function(t){var e=t[0],r=t[1],l=t[2],h=s,c=Math.ceil(n(e)),u=Math.ceil(n(e+l))-c,d=Math.round(o(r)),f=Math.round(o(r-h))-d,p=c-a/2,g=Math.round(d-f/2)-a/2;i.strokeRect(p,g,u,f),i.fillRect(p,g,u,f)})},extendRange:function(t){var e=t.data,i=t.xaxis,n=t.yaxis,o=t.timeline.barWidth;if(null===i.options.min&&(i.min=i.datamin-o/2),null===i.options.max){var s=i.max;Flotr._.each(e,function(t){s=Math.max(s,t[0]+t[2])},this),i.max=s+o/2}null===n.options.min&&(n.min=n.datamin-o),null===n.options.min&&(n.max=n.datamax+o)}}),function(){var t=Flotr.DOM;Flotr.addPlugin("crosshair",{options:{mode:null,color:"#FF0000",hideCursor:!0},callbacks:{"flotr:mousemove":function(t,e){this.options.crosshair.mode&&(this.crosshair.clearCrosshair(),this.crosshair.drawCrosshair(e))}},drawCrosshair:function(e){var i=this.octx,n=this.options.crosshair,o=this.plotOffset,s=o.left+Math.round(e.relX)+.5,a=o.top+Math.round(e.relY)+.5;if(e.relX<0||e.relY<0||e.relX>this.plotWidth||e.relY>this.plotHeight)return this.el.style.cursor=null,void t.removeClass(this.el,"flotr-crosshair");n.hideCursor&&(this.el.style.cursor="none",t.addClass(this.el,"flotr-crosshair")),i.save(),i.strokeStyle=n.color,i.lineWidth=1,i.beginPath(),-1!=n.mode.indexOf("x")&&(i.moveTo(s,o.top),i.lineTo(s,o.top+this.plotHeight)),-1!=n.mode.indexOf("y")&&(i.moveTo(o.left,a),i.lineTo(o.left+this.plotWidth,a)),i.stroke(),i.restore()},clearCrosshair:function(){var t=this.plotOffset,e=this.lastMousePos,i=this.octx;e&&(i.clearRect(Math.round(e.relX)+t.left,t.top,1,this.plotHeight+1),i.clearRect(t.left,Math.round(e.relY)+t.top,this.plotWidth+1,1))}})}(),function(){var t=Flotr.DOM,e=Flotr._;Flotr.addPlugin("download",{saveImage:function(i,n,o,s){var a,r=this.options.grid;if(Flotr.isIE&&Flotr.isIE<9)return a="<html><body>"+this.canvas.firstChild.innerHTML+"</body></html>",window.open().document.write(a);if("jpeg"===i||"png"===i){if(a=function(t,e,i,n,o,s){var a="image/"+t,r=i.getImageData(0,0,n,o),l=new Image;return i.save(),i.globalCompositeOperation="destination-over",i.fillStyle=s,i.fillRect(0,0,n,o),l.src=e.toDataURL(a),i.restore(),i.clearRect(0,0,n,o),i.putImageData(r,0,0),l}(i,this.canvas,this.ctx,this.canvasWidth,this.canvasHeight,r&&r.backgroundColor||"#ffffff"),!e.isElement(a)||!s)return window.open(a.src);this.download.restoreCanvas(),t.hide(this.canvas),t.hide(this.overlay),t.setStyles({position:"absolute"}),t.insert(this.el,a),this.saveImageElement=a}},restoreCanvas:function(){t.show(this.canvas),t.show(this.overlay),this.saveImageElement&&this.el.removeChild(this.saveImageElement),this.saveImageElement=null}})}(),function(){var t=Flotr.EventAdapter,e=Flotr._;Flotr.addPlugin("graphGrid",{callbacks:{"flotr:beforedraw":function(){this.graphGrid.drawGrid()},"flotr:afterdraw":function(){this.graphGrid.drawOutline()}},drawGrid:function(){var i,n,o,s=this.ctx,a=this.options,r=a.grid,l=r.verticalLines,h=r.horizontalLines,c=r.minorVerticalLines,u=r.minorHorizontalLines,d=this.plotHeight,f=this.plotWidth;function p(t){for(n=0;n<t.length;++n){var e=t[n].v/i.max;for(o=0;o<=y;++o)s[0===o?"moveTo":"lineTo"](Math.cos(o*b+M)*v*e,Math.sin(o*b+M)*v*e)}}function g(t,n){e.each(e.pluck(t,"v"),function(t){t<=i.min||t>=i.max||(t==i.min||t==i.max)&&r.outlineWidth||n(Math.floor(i.d2p(t))+s.lineWidth/2)})}function m(t){s.moveTo(t,0),s.lineTo(t,d)}function x(t){s.moveTo(0,t),s.lineTo(f,t)}if((l||c||h||u)&&t.fire(this.el,"flotr:beforegrid",[this.axes.x,this.axes.y,a,this]),s.save(),s.lineWidth=1,s.strokeStyle=r.tickColor,r.circular){s.translate(this.plotOffset.left+f/2,this.plotOffset.top+d/2);var v=Math.min(d,f)*a.radar.radiusRatio/2,y=this.axes.x.ticks.length,b=Math.PI/y*2,M=-Math.PI/2;s.beginPath(),i=this.axes.y,h&&p(i.ticks),u&&p(i.minorTicks),l&&e.times(y,function(t){s.moveTo(0,0),s.lineTo(Math.cos(t*b+M)*v,Math.sin(t*b+M)*v)}),s.stroke()}else s.translate(this.plotOffset.left,this.plotOffset.top),r.backgroundColor&&(s.fillStyle=this.processColor(r.backgroundColor,{x1:0,y1:0,x2:f,y2:d}),s.fillRect(0,0,f,d)),s.beginPath(),i=this.axes.x,l&&g(i.ticks,m),c&&g(i.minorTicks,m),i=this.axes.y,h&&g(i.ticks,x),u&&g(i.minorTicks,x),s.stroke();s.restore(),(l||c||h||u)&&t.fire(this.el,"flotr:aftergrid",[this.axes.x,this.axes.y,a,this])},drawOutline:function(){var t,e,n,o,s=this.options,a=s.grid,r=a.outline,l=this.ctx,h=a.backgroundImage,c=this.plotOffset,u=c.left,d=c.top,f=this.plotWidth,p=this.plotHeight;if(a.outlineWidth){if(l.save(),a.circular){l.translate(u+f/2,d+p/2);var g=Math.min(p,f)*s.radar.radiusRatio/2,m=this.axes.x.ticks.length,x=Math.PI/m*2,v=-Math.PI/2;for(l.beginPath(),l.lineWidth=a.outlineWidth,l.strokeStyle=a.color,l.lineJoin="round",i=0;i<=m;++i)l[0===i?"moveTo":"lineTo"](Math.cos(i*x+v)*g,Math.sin(i*x+v)*g);l.stroke()}else{l.translate(u,d);var y=a.outlineWidth,b=.5-y+(y+1)%2/2;l.lineWidth=y,l.strokeStyle=a.color,l.lineJoin="miter",l.beginPath(),l.moveTo(b,b),f-=y/2%1,p+=y/2,l[-1!==r.indexOf("n")?"lineTo":"moveTo"](f,b),l[-1!==r.indexOf("e")?"lineTo":"moveTo"](f,p),l[-1!==r.indexOf("s")?"lineTo":"moveTo"](b,p),l[-1!==r.indexOf("w")?"lineTo":"moveTo"](b,b),l.stroke(),l.closePath()}l.restore(),h&&(e=h.src||h,n=(parseInt(h.left,10)||0)+c.left,o=(parseInt(h.top,10)||0)+c.top,(t=new Image).onload=function(){l.save(),h.alpha&&(l.globalAlpha=h.alpha),l.globalCompositeOperation="destination-over",l.drawImage(t,0,0,t.width,t.height,n,o,f,p),l.restore()},t.src=e)}}})}(),function(){var t=Flotr.DOM,e=Flotr._,i=Flotr;Flotr.addPlugin("hit",{callbacks:{"flotr:mousemove":function(t,e){this.hit.track(e)},"flotr:click":function(t){var i=this.hit.track(t);i&&!e.isUndefined(i.index)&&(t.hit=i)},"flotr:mouseout":function(t){t.relatedTarget!==this.mouseTrack&&this.hit.clearHit()},"flotr:destroy":function(){this.options.mouse.container&&t.remove(this.mouseTrack),this.mouseTrack=null}},track:function(t){if(this.options.mouse.track||e.any(this.series,function(t){return t.mouse&&t.mouse.track}))return this.hit.hit(t)},executeOnType:function(t,n,o){var s,a=!1;return e.isArray(t)||(t=[t]),e.each(t,function(t,r){e.each(e.keys(i.graphTypes),function(e){t[e]&&t[e].show&&!t.hide&&this[e][n]&&((s=this.getOptions(t,e)).fill=!!t.mouse.fillColor,s.fillStyle=this.processColor(t.mouse.fillColor||"#ffffff",{opacity:t.mouse.fillOpacity}),s.color=t.mouse.lineColor,s.context=this.octx,s.index=r,o&&(s.args=o),this[e][n].call(this[e],s),a=!0)},this)},this),a},drawHit:function(t){var e=this.octx,i=t.series;if(i.mouse.lineColor){if(e.save(),e.lineWidth=i.points?i.points.lineWidth:1,e.strokeStyle=i.mouse.lineColor,e.fillStyle=this.processColor(i.mouse.fillColor||"#ffffff",{opacity:i.mouse.fillOpacity}),e.translate(this.plotOffset.left,this.plotOffset.top),!this.hit.executeOnType(i,"drawHit",t)){var n=t.xaxis,o=t.yaxis;e.beginPath(),e.arc(n.d2p(t.x),o.d2p(t.y),i.points.hitRadius||i.points.radius||i.mouse.radius,0,2*Math.PI,!0),e.fill(),e.stroke(),e.closePath()}e.restore(),this.clip(e)}this.prevHit=t},clearHit:function(){var e=this.prevHit,i=this.octx,n=this.plotOffset;if(i.save(),i.translate(n.left,n.top),e){if(!this.hit.executeOnType(e.series,"clearHit",this.prevHit)){var o=e.series,s=o.points?o.points.lineWidth:1;offset=(o.points.hitRadius||o.points.radius||o.mouse.radius)+s,i.clearRect(e.xaxis.d2p(e.x)-offset,e.yaxis.d2p(e.y)-offset,2*offset,2*offset)}t.hide(this.mouseTrack),this.prevHit=null}i.restore()},hit:function(t){var i,n,o,s,a,r,l,h=this.options,c=this.prevHit;if(0!==this.series.length)return l={relX:t.relX,relY:t.relY,absX:t.absX,absY:t.absY,series:this.series},h.mouse.trackY&&!h.mouse.trackAll&&this.hit.executeOnType(this.series,"hit",[t,l])&&!e.isUndefined(l.seriesIndex)?(s=this.series[l.seriesIndex],l.series=s,l.mouse=s.mouse,l.xaxis=s.xaxis,l.yaxis=s.yaxis):(i=this.hit.closest(t))&&(o=(i=h.mouse.trackY?i.point:i.x).seriesIndex,a=(s=this.series[o]).xaxis,r=s.yaxis,n=2*s.mouse.sensibility,(h.mouse.trackAll||i.distanceX<n/a.scale&&(!h.mouse.trackY||i.distanceY<n/r.scale))&&(l.series=s,l.xaxis=s.xaxis,l.yaxis=s.yaxis,l.mouse=s.mouse,l.x=i.x,l.y=i.y,l.dist=i.distance,l.index=i.dataIndex,l.seriesIndex=o)),c&&c.index===l.index&&c.seriesIndex===l.seriesIndex||(this.hit.clearHit(),l.series&&l.mouse&&l.mouse.track&&(this.hit.drawMouseTrack(l),this.hit.drawHit(l),Flotr.EventAdapter.fire(this.el,"flotr:hit",[l,this]))),l},closest:function(t){var e,i,n,o,s,a,r,l,h,c,u,d=this.series,f=(this.options,t.relX),p=t.relY,g=Number.MAX_VALUE,m=Number.MAX_VALUE,x={},v={},y=!1;function b(t){t.distance=n,t.distanceX=o,t.distanceY=s,t.seriesIndex=c,t.dataIndex=u,t.x=l,t.y=h,y=!0}for(c=0;c<d.length;c++)if(i=(e=d[c]).data,a=e.xaxis.p2d(f),r=e.yaxis.p2d(p),!e.hide)for(u=i.length;u--;)l=i[u][0],h=i[u][1],i[u].y0&&(h+=i[u].y0),null!==l&&null!==h&&(l<e.xaxis.min||l>e.xaxis.max||(o=Math.abs(l-a),s=Math.abs(h-r),(n=o*o+s*s)<g&&(g=n,b(x)),o<m&&(m=o,b(v))));return!!y&&{point:x,x:v}},drawMouseTrack:function(i){var n,o,s,a="",r=i.series,l=i.mouse.position,h=i.mouse.margin,c=i.x,u=i.y,d="opacity:0.7;background-color:#000;color:#fff;position:absolute;padding:2px 8px;-moz-border-radius:4px;border-radius:4px;white-space:nowrap;",f=this.mouseTrack,p=this.plotOffset,g=p.left,m=(p.right,p.bottom,p.top),x=i.mouse.trackDecimals,v=this.options.mouse.container,y=0,b=0;if(f||(f=t.node('<div class="flotr-mouse-value" style="'+d+'"></div>'),this.mouseTrack=f,t.insert(v||this.el,f)),(!x||x<0)&&(x=0),c&&c.toFixed&&(c=c.toFixed(x)),u&&u.toFixed&&(u=u.toFixed(x)),s=i.mouse.trackFormatter({x:c,y:u,series:i.series,index:i.index,nearest:i,fraction:i.fraction}),e.isNull(s)||e.isUndefined(s))t.hide(f);else if(f.innerHTML=s,t.show(f),l){if(o=t.size(f),v&&(y=(n=t.position(this.el)).top,b=n.left),i.mouse.relative)if(r.pie&&r.pie.show){var M={x:this.plotWidth/2,y:this.plotHeight/2},w=Math.min(this.canvasWidth,this.canvasHeight)*r.pie.sizeRatio/2,k=i.sAngle<i.eAngle?(i.sAngle+i.eAngle)/2:(i.sAngle+i.eAngle+2*Math.PI)/2;a+="bottom:"+(h-m-M.y-Math.sin(k)*w/2+this.canvasHeight)+"px;top:auto;",a+="left:"+(h+g+M.x+Math.cos(k)*w/2)+"px;right:auto;"}else a+="top:",/n/.test(l)?a+=y-h+m+i.yaxis.d2p(i.y)-o.height:a+=y+h+m+i.yaxis.d2p(i.y),a+="px;bottom:auto;left:",/w/.test(l)?a+=b-h+g+i.xaxis.d2p(i.x)-o.width:a+=b+h+g+i.xaxis.d2p(i.x),a+="px;right:auto;";else a+="top:","n"==l.charAt(0)?a+=y+h+m:"s"==l.charAt(0)&&(a+=y-h+m+this.plotHeight-o.height),a+="px;bottom:auto;left:","e"==l.charAt(1)?a+=b-h+g+this.plotWidth-o.width:"w"==l.charAt(1)&&(a+=b+h+g),a+="px;right:auto;";f.style.cssText=d+a,i.mouse.relative&&(/[ew]/.test(l)?/[ns]/.test(l)||(f.style.top=y+m+i.yaxis.d2p(i.y)-t.size(f).height/2+"px"):f.style.left=b+g+i.xaxis.d2p(i.x)-t.size(f).width/2+"px")}}})}(),function(){function t(t,e){return Math.min(Math.max(0,t),e.plotWidth-1)}function e(t,e){return Math.min(Math.max(0,t),e.plotHeight)}Flotr.DOM;var i=Flotr.EventAdapter,n=Flotr._;Flotr.addPlugin("selection",{options:{pinchOnly:null,mode:null,color:"#B6D9FF",fps:20},callbacks:{"flotr:mouseup":function(t){var e=this.options.selection,i=this.selection,n=this.getEventPosition(t);e&&e.mode&&(i.interval&&clearInterval(i.interval),this.multitouches?i.updateSelection():e.pinchOnly||i.setSelectionPos(i.selection.second,n),i.clearSelection(),i.selecting&&i.selectionIsSane()&&(i.drawSelection(),i.fireSelectEvent(),this.ignoreClick=!0))},"flotr:mousedown":function(t){var e,i=this.options.selection,o=this.selection,s=this.getEventPosition(t);i&&i.mode&&(!i.mode||((e=t).which?1!==e.which:0!==e.button&&1!==e.button)&&n.isUndefined(t.touches)||(i.pinchOnly||o.setSelectionPos(o.selection.first,s),o.interval&&clearInterval(o.interval),this.lastMousePos.pageX=null,o.selecting=!1,o.interval=setInterval(n.bind(o.updateSelection,this),1e3/i.fps)))},"flotr:destroy":function(t){clearInterval(this.selection.interval)}},getArea:function(){var t,e,i,n,o=this.selection.selection,s=this.axes;o.first,o.second;return t=s.x.p2d(o.first.x),e=s.x.p2d(o.second.x),i=s.y.p2d(o.first.y),n=s.y.p2d(o.second.y),{x1:Math.min(t,e),y1:Math.min(i,n),x2:Math.max(t,e),y2:Math.max(i,n),xfirst:t,xsecond:e,yfirst:i,ysecond:n}},selection:{first:{x:-1,y:-1},second:{x:-1,y:-1}},prevSelection:null,interval:null,fireSelectEvent:function(t){var e=this.selection.getArea();t=t||"select",e.selection=this.selection.selection,i.fire(this.el,"flotr:"+t,[e,this])},setSelection:function(i,n){var o=this.options,s=this.axes.x,a=this.axes.y,r=a.scale,l=s.scale,h=-1!=o.selection.mode.indexOf("x"),c=-1!=o.selection.mode.indexOf("y"),u=this.selection.selection;this.selection.clearSelection(),u.first.y=e(h&&!c?0:(a.max-i.y1)*r,this),u.second.y=e(h&&!c?this.plotHeight-1:(a.max-i.y2)*r,this),u.first.x=t(c&&!h?0:(i.x1-s.min)*l,this),u.second.x=t(c&&!h?this.plotWidth:(i.x2-s.min)*l,this),this.selection.drawSelection(),n||this.selection.fireSelectEvent()},setSelectionPos:function(i,n){var o=this.options.selection.mode,s=this.selection.selection;-1==o.indexOf("x")?i.x=i==s.first?0:this.plotWidth:i.x=t(n.relX,this),-1==o.indexOf("y")?i.y=i==s.first?0:this.plotHeight-1:i.y=e(n.relY,this)},drawSelection:function(){this.selection.fireSelectEvent("selecting");var t=this.selection.selection,e=this.octx,i=this.options,n=this.plotOffset,o=this.selection.prevSelection;if(!o||t.first.x!=o.first.x||t.first.y!=o.first.y||t.second.x!=o.second.x||t.second.y!=o.second.y){e.save(),e.strokeStyle=this.processColor(i.selection.color,{opacity:.8}),e.lineWidth=1,e.lineJoin="miter",e.fillStyle=this.processColor(i.selection.color,{opacity:.4}),this.selection.prevSelection={first:{x:t.first.x,y:t.first.y},second:{x:t.second.x,y:t.second.y}};var s=Math.min(t.first.x,t.second.x),a=Math.min(t.first.y,t.second.y),r=Math.abs(t.second.x-t.first.x),l=Math.abs(t.second.y-t.first.y);e.fillRect(s+n.left+.5,a+n.top+.5,r,l),e.strokeRect(s+n.left+.5,a+n.top+.5,r,l),e.restore()}},updateSelection:function(){if(this.lastMousePos.pageX){if(this.selection.selecting=!0,this.multitouches)this.selection.setSelectionPos(this.selection.selection.first,this.getEventPosition(this.multitouches[0])),this.selection.setSelectionPos(this.selection.selection.second,this.getEventPosition(this.multitouches[1]));else{if(this.options.selection.pinchOnly)return;this.selection.setSelectionPos(this.selection.selection.second,this.lastMousePos)}this.selection.clearSelection(),this.selection.selectionIsSane()&&this.selection.drawSelection()}},clearSelection:function(){if(this.selection.prevSelection){var t=this.selection.prevSelection,e=this.plotOffset,i=Math.min(t.first.x,t.second.x),n=Math.min(t.first.y,t.second.y),o=Math.abs(t.second.x-t.first.x),s=Math.abs(t.second.y-t.first.y);this.octx.clearRect(i+e.left-1+.5,n+e.top-1,o+2+.5,s+2+.5),this.selection.prevSelection=null}},selectionIsSane:function(){var t=this.selection.selection;return Math.abs(t.second.x-t.first.x)>=5||Math.abs(t.second.y-t.first.y)>=5}})}(),function(){var t=Flotr.DOM;Flotr.addPlugin("labels",{callbacks:{"flotr:afterdraw":function(){this.labels.draw()}},draw:function(){var e,i,n,o,s,a,r,l,h="",c=0,u=this.options,d=this.ctx,f=this.axes;u.fontSize;for(l=0;l<f.x.ticks.length;++l)f.x.ticks[l].label&&++c;function p(t,i,o){var r,h=o?i.minorTicks:i.ticks,c=1===i.orientation;i.n;for(r={color:i.options.color||u.grid.color,angle:Flotr.toRad(i.options.labelsAngle),textBaseline:"middle"},l=0;l<h.length&&(o?i.options.showMinorLabels:i.options.showLabels);++l)(e=h[l]).label+="",e.label&&e.label.length&&(x=Math.cos(l*s+a)*n,y=Math.sin(l*s+a)*n,r.textAlign=c?Math.abs(x)<.1?"center":x<0?"right":"left":"left",Flotr.drawText(d,e.label,c?x:3,c?y:-i.ticks[l].v/i.max*(n-u.fontSize),r))}function g(t,i,n,o){var s,a,r=1===i.orientation,h=1===i.n;for(s={color:i.options.color||u.grid.color,textAlign:n,textBaseline:o,angle:Flotr.toRad(i.options.labelsAngle)},s=Flotr.getBestTextAlign(s.angle,s),l=0;l<i.ticks.length&&c(i);++l)(e=i.ticks[l]).label&&e.label.length&&((a=i.d2p(e.v))<0||a>(r?t.plotWidth:t.plotHeight)||(Flotr.drawText(d,e.label,f(t,r,h,a),p(t,r,h,a),s),r||h||(d.save(),d.strokeStyle=s.color,d.beginPath(),d.moveTo(t.plotOffset.left+t.plotWidth-8,t.plotOffset.top+i.d2p(e.v)),d.lineTo(t.plotOffset.left+t.plotWidth,t.plotOffset.top+i.d2p(e.v)),d.stroke(),d.restore())));function c(t){return t.options.showLabels&&t.used}function f(t,e,i,n){return t.plotOffset.left+(e?n:i?-u.grid.labelMargin:u.grid.labelMargin+t.plotWidth)}function p(t,e,i,n){return t.plotOffset.top+(e?u.grid.labelMargin:n)+(e&&i?t.plotHeight:0)}}function m(t,n){var o,s,a=1===n.orientation,r=1===n.n,c="",f=t.plotOffset;if(a||r||(d.save(),d.strokeStyle=n.options.color||u.grid.color,d.beginPath()),n.options.showLabels&&(r||n.used))for(l=0;l<n.ticks.length;++l)!(e=n.ticks[l]).label||!e.label.length||(a?f.left:f.top)+n.d2p(e.v)<0||(a?f.left:f.top)+n.d2p(e.v)>(a?t.canvasWidth:t.canvasHeight)||(s=f.top+(a?(r?1:-1)*(t.plotHeight+u.grid.labelMargin):n.d2p(e.v)-n.maxLabel.height/2),o=a?f.left+n.d2p(e.v)-i/2:0,c="",0===l?c=" first":l===n.ticks.length-1&&(c=" last"),c+=a?" flotr-grid-label-x":" flotr-grid-label-y",h+=['<div style="position:absolute; text-align:'+(a?"center":"right")+"; ","top:"+s+"px; ",(a||r?"left:":"right:")+o+"px; ","width:"+(a?i:(r?f.left:f.right)-u.grid.labelMargin)+"px; ",n.options.color?"color:"+n.options.color+"; ":" ",'" class="flotr-grid-label'+c+'">'+e.label+"</div>"].join(" "),a||r||(d.moveTo(f.left+t.plotWidth-8,f.top+n.d2p(e.v)),d.lineTo(f.left+t.plotWidth,f.top+n.d2p(e.v))))}i=this.plotWidth/c,u.grid.circular&&(d.save(),d.translate(this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+this.plotHeight/2),n=this.plotHeight*u.radar.radiusRatio/2+u.fontSize,o=this.axes.x.ticks.length,s=Math.PI/o*2,a=-Math.PI/2,p(this,f.x,!1),p(this,f.x,!0),p(this,f.y,!1),p(this,f.y,!0),d.restore()),!u.HtmlText&&this.textEnabled?(g(this,f.x,"center","top"),g(this,f.x2,"center","bottom"),g(this,f.y,"right","middle"),g(this,f.y2,"left","middle")):(f.x.options.showLabels||f.x2.options.showLabels||f.y.options.showLabels||f.y2.options.showLabels)&&!u.grid.circular&&(h="",m(this,f.x),m(this,f.x2),m(this,f.y),m(this,f.y2),d.stroke(),d.restore(),r=t.create("div"),t.setStyles(r,{fontSize:"smaller",color:u.grid.color}),r.className="flotr-labels",t.insert(this.el,r),t.insert(r,h))}})}(),function(){var t=Flotr.DOM,e=Flotr._;Flotr.addPlugin("legend",{options:{show:!0,noColumns:1,labelFormatter:function(t){return t},labelBoxBorderColor:"#CCCCCC",labelBoxWidth:14,labelBoxHeight:10,labelBoxMargin:5,container:null,position:"nw",margin:5,backgroundColor:"#F0F0F0",backgroundOpacity:.85},callbacks:{"flotr:afterinit":function(){this.legend.insertLegend()},"flotr:destroy":function(){var e=this.legend.markup;e&&(this.legend.markup=null,t.remove(e))}},insertLegend:function(){if(this.options.legend.show){var i,n,o,s=this.series,a=this.plotOffset,r=this.options,l=r.legend,h=[],c=!1,u=this.ctx,d=e.filter(s,function(t){return t.label&&!t.hide}).length,f=l.position,p=l.margin,g=l.backgroundOpacity;if(d){var m=l.labelBoxWidth,x=l.labelBoxHeight,v=l.labelBoxMargin,y=a.left+p,b=a.top+p,M=0,w={size:1.1*r.fontSize,color:r.grid.color};for(i=s.length-1;i>-1;--i)s[i].label&&!s[i].hide&&(n=l.labelFormatter(s[i].label),M=Math.max(M,this._text.measureText(n,w).width));var k=Math.round(m+3*v+M),S=Math.round(d*(v+x)+v);if(g||0===g||(g=.1),r.HtmlText||!this.textEnabled||l.container){for(i=0;i<s.length;++i)if(s[i].label&&!s[i].hide){i%l.noColumns==0&&(h.push(c?"</tr><tr>":"<tr>"),c=!0);var T=s[i],F=l.labelBoxWidth,A=l.labelBoxHeight;n=l.labelFormatter(T.label),o="background-color:"+(T.bars&&T.bars.show&&T.bars.fillColor&&T.bars.fill?T.bars.fillColor:T.color)+";",h.push('<td class="flotr-legend-color-box">','<div style="border:1px solid ',l.labelBoxBorderColor,';padding:1px">','<div style="width:',F-1,"px;height:",A-1,"px;border:1px solid ",s[i].color,'">','<div style="width:',F,"px;height:",A,"px;",o,'"></div>',"</div>","</div>","</td>",'<td class="flotr-legend-label">',n,"</td>")}if(c&&h.push("</tr>"),h.length>0){var C='<table style="font-size:smaller;color:'+r.grid.color+'">'+h.join("")+"</table>";if(l.container)C=t.node(C),this.legend.markup=C,t.insert(l.container,C);else{var O={position:"absolute",zIndex:"2",border:"1px solid "+l.labelBoxBorderColor};"n"==f.charAt(0)?(O.top=p+a.top+"px",O.bottom="auto"):"c"==f.charAt(0)?(O.top=p+(this.plotHeight-S)/2+"px",O.bottom="auto"):"s"==f.charAt(0)&&(O.bottom=p+a.bottom+"px",O.top="auto"),"e"==f.charAt(1)?(O.right=p+a.right+"px",O.left="auto"):"w"==f.charAt(1)&&(O.left=p+a.left+"px",O.right="auto");var W=t.create("div");if(W.className="flotr-legend",t.setStyles(W,O),t.insert(W,C),t.insert(this.el,W),!g)return;var I=l.backgroundColor||r.grid.backgroundColor||"#ffffff";e.extend(O,t.size(W),{backgroundColor:I,zIndex:"",border:""}),O.width+="px",O.height+="px",(W=t.create("div")).className="flotr-legend-bg",t.setStyles(W,O),t.opacity(W,g),t.insert(W," "),t.insert(this.el,W)}}}else{"s"==f.charAt(0)&&(b=a.top+this.plotHeight-(p+S)),"c"==f.charAt(0)&&(b=a.top+this.plotHeight/2-(p+S/2)),"e"==f.charAt(1)&&(y=a.left+this.plotWidth-(p+k)),o=this.processColor(l.backgroundColor,{opacity:g}),u.fillStyle=o,u.fillRect(y,b,k,S),u.strokeStyle=l.labelBoxBorderColor,u.strokeRect(Flotr.toPixel(y),Flotr.toPixel(b),k,S);var z=y+v,P=b+v;for(i=0;i<s.length;i++)s[i].label&&!s[i].hide&&(n=l.labelFormatter(s[i].label),u.fillStyle=s[i].color,u.fillRect(z,P,m-1,x-1),u.strokeStyle=l.labelBoxBorderColor,u.lineWidth=1,u.strokeRect(Math.ceil(z)-1.5,Math.ceil(P)-1.5,m+2,x+2),Flotr.drawText(u,n,z+m+v,P+x,w),P+=x+v)}}}}})}(),function(){function t(t){if(this.options.spreadsheet.tickFormatter)return this.options.spreadsheet.tickFormatter(t);var e=i.find(this.axes.x.ticks,function(e){return e.v==t});return e?e.label:t}var e=Flotr.DOM,i=Flotr._;Flotr.addPlugin("spreadsheet",{options:{show:!1,tabGraphLabel:"Graph",tabDataLabel:"Data",toolbarDownload:"Download CSV",toolbarSelectAll:"Select all",csvFileSeparator:",",decimalSeparator:".",tickFormatter:null,initialTab:"graph"},callbacks:{"flotr:afterconstruct":function(){if(this.options.spreadsheet.show){var t,i=this.spreadsheet,n=e.node('<div class="flotr-tabs-group" style="position:absolute;left:0px;width:'+this.canvasWidth+'px"></div>'),o=e.node('<div style="float:left" class="flotr-tab selected">'+this.options.spreadsheet.tabGraphLabel+"</div>"),s=e.node('<div style="float:left" class="flotr-tab">'+this.options.spreadsheet.tabDataLabel+"</div>");i.tabsContainer=n,i.tabs={graph:o,data:s},e.insert(n,o),e.insert(n,s),e.insert(this.el,n),t=e.size(s).height+2,this.plotOffset.bottom+=t,e.setStyles(n,{top:this.canvasHeight-t+"px"}),this.observe(o,"click",function(){i.showTab("graph")}).observe(s,"click",function(){i.showTab("data")}),"graph"!==this.options.spreadsheet.initialTab&&i.showTab(this.options.spreadsheet.initialTab)}}},loadDataGrid:function(){if(this.seriesData)return this.seriesData;var t=this.series,e={};return i.each(t,function(t,n){i.each(t.data,function(t){var i=t[0],o=t[1],s=e[i];if(s)s[n+1]=o;else{var a=[];a[0]=i,a[n+1]=o,e[i]=a}})}),this.seriesData=i.sortBy(e,function(t,e){return parseInt(e,10)}),this.seriesData},constructDataGrid:function(){if(this.spreadsheet.datagrid)return this.spreadsheet.datagrid;var n,o,s,a=this.series,r=this.spreadsheet.loadDataGrid(),l=["<colgroup><col />"],h=['<table class="flotr-datagrid"><tr class="first-row">'];h.push("<th>&nbsp;</th>"),i.each(a,function(t,e){h.push('<th scope="col">'+(t.label||String.fromCharCode(65+e))+"</th>"),l.push("<col />")}),h.push("</tr>"),i.each(r,function(e){h.push("<tr>"),i.times(a.length+1,function(n){var o="td",s=e[n],a=i.isUndefined(s)?"":Math.round(1e5*s)/1e5;if(0===n){o="th";var r=t.call(this,a);r&&(a=r)}h.push("<"+o+("th"==o?' scope="row"':"")+">"+a+"</"+o+">")},this),h.push("</tr>")},this),l.push("</colgroup>"),s=e.node(h.join("")),n=e.node('<button type="button" class="flotr-datagrid-toolbar-button">'+this.options.spreadsheet.toolbarDownload+"</button>"),o=e.node('<button type="button" class="flotr-datagrid-toolbar-button">'+this.options.spreadsheet.toolbarSelectAll+"</button>"),this.observe(n,"click",i.bind(this.spreadsheet.downloadCSV,this)).observe(o,"click",i.bind(this.spreadsheet.selectAllData,this));var c=e.node('<div class="flotr-datagrid-toolbar"></div>');e.insert(c,n),e.insert(c,o);var u=this.canvasHeight-e.size(this.spreadsheet.tabsContainer).height-2,d=e.node('<div class="flotr-datagrid-container" style="position:absolute;left:0px;top:0px;width:'+this.canvasWidth+"px;height:"+u+'px;overflow:auto;z-index:10"></div>');return e.insert(d,c),e.insert(d,s),e.insert(this.el,d),this.spreadsheet.datagrid=s,this.spreadsheet.container=d,s},showTab:function(t){if(this.spreadsheet.activeTab!==t){switch(t){case"graph":e.hide(this.spreadsheet.container),e.removeClass(this.spreadsheet.tabs.data,"selected"),e.addClass(this.spreadsheet.tabs.graph,"selected");break;case"data":this.spreadsheet.datagrid||this.spreadsheet.constructDataGrid(),e.show(this.spreadsheet.container),e.addClass(this.spreadsheet.tabs.data,"selected"),e.removeClass(this.spreadsheet.tabs.graph,"selected");break;default:throw"Illegal tab name: "+t}this.spreadsheet.activeTab=t}},selectAllData:function(){if(this.spreadsheet.tabs){var t,e,i,n,o=this.spreadsheet.constructDataGrid();return this.spreadsheet.showTab("data"),setTimeout(function(){(i=o.ownerDocument)&&(n=i.defaultView)&&n.getSelection&&i.createRange&&(t=window.getSelection())&&t.removeAllRanges?((e=i.createRange()).selectNode(o),t.removeAllRanges(),t.addRange(e)):document.body&&document.body.createTextRange&&(e=document.body.createTextRange())&&(e.moveToElementText(o),e.select())},0),!0}return!1},downloadCSV:function(){var e="",n=this.series,o=this.options,s=this.spreadsheet.loadDataGrid(),a=encodeURIComponent(o.spreadsheet.csvFileSeparator);if(o.spreadsheet.decimalSeparator===o.spreadsheet.csvFileSeparator)throw"The decimal separator is the same as the column separator ("+o.spreadsheet.decimalSeparator+")";if(i.each(n,function(t,i){e+=a+'"'+(t.label||String.fromCharCode(65+i)).replace(/\"/g,'\\"')+'"'}),e+="%0D%0A",e+=i.reduce(s,function(e,i){var n=t.call(this,i[0])||"";n='"'+(n+"").replace(/\"/g,'\\"')+'"';var s=i.slice(1).join(a);return"."!==o.spreadsheet.decimalSeparator&&(s=s.replace(/\./g,o.spreadsheet.decimalSeparator)),e+n+a+s+"%0D%0A"},"",this),Flotr.isIE&&Flotr.isIE<9)e=e.replace(new RegExp(a,"g"),decodeURIComponent(a)).replace(/%0A/g,"\n").replace(/%0D/g,"\r"),window.open().document.write(e);else{var r="data:text/csv;charset=utf-8,"+e,l=document.createElement("a");l.href=r,l.download="Logdata.csv",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}})}(),function(){var t=Flotr.DOM;Flotr.addPlugin("titles",{callbacks:{"flotr:afterdraw":function(){this.titles.drawTitles()}},drawTitles:function(){var e,i=this.options,n=i.grid.labelMargin,o=this.ctx,s=this.axes;if(!i.HtmlText&&this.textEnabled){var a={size:i.fontSize,color:i.grid.color,textAlign:"center"};i.subtitle&&Flotr.drawText(o,i.subtitle,this.plotOffset.left+this.plotWidth/2,this.titleHeight+this.subtitleHeight-2,a),a.weight=1.5,a.size*=1.5,i.title&&Flotr.drawText(o,i.title,this.plotOffset.left+this.plotWidth/2,this.titleHeight-2,a),a.weight=1.8,a.size*=.8,s.x.options.title&&s.x.used&&(a.textAlign=s.x.options.titleAlign||"center",a.textBaseline="top",a.angle=Flotr.toRad(s.x.options.titleAngle),a=Flotr.getBestTextAlign(a.angle,a),Flotr.drawText(o,s.x.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top+s.x.maxLabel.height+this.plotHeight+2*n,a)),s.x2.options.title&&s.x2.used&&(a.textAlign=s.x2.options.titleAlign||"center",a.textBaseline="bottom",a.angle=Flotr.toRad(s.x2.options.titleAngle),a=Flotr.getBestTextAlign(a.angle,a),Flotr.drawText(o,s.x2.options.title,this.plotOffset.left+this.plotWidth/2,this.plotOffset.top-s.x2.maxLabel.height-2*n,a)),s.y.options.title&&s.y.used&&(a.textAlign=s.y.options.titleAlign||"right",a.textBaseline="middle",a.angle=Flotr.toRad(s.y.options.titleAngle),a=Flotr.getBestTextAlign(a.angle,a),Flotr.drawText(o,s.y.options.title,this.plotOffset.left-s.y.maxLabel.width-2*n,this.plotOffset.top+this.plotHeight/2,a)),s.y2.options.title&&s.y2.used&&(a.textAlign=s.y2.options.titleAlign||"left",a.textBaseline="middle",a.angle=Flotr.toRad(s.y2.options.titleAngle),a=Flotr.getBestTextAlign(a.angle,a),Flotr.drawText(o,s.y2.options.title,this.plotOffset.left+this.plotWidth+s.y2.maxLabel.width+2*n,this.plotOffset.top+this.plotHeight/2,a))}else{e=[],i.title&&e.push('<div style="position:absolute;top:0;left:',this.plotOffset.left,"px;font-size:1em;font-weight:bold;text-align:center;width:",this.plotWidth,'px;" class="flotr-title">',i.title,"</div>"),i.subtitle&&e.push('<div style="position:absolute;top:',this.titleHeight,"px;left:",this.plotOffset.left,"px;font-size:smaller;text-align:center;width:",this.plotWidth,'px;" class="flotr-subtitle">',i.subtitle,"</div>"),e.push("</div>"),e.push('<div class="flotr-axis-title" style="font-weight:bold;">'),s.x.options.title&&s.x.used&&e.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight+i.grid.labelMargin+s.x.titleSize.height,"px;left:",this.plotOffset.left,"px;width:",this.plotWidth,"px;text-align:",s.x.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-x1">',s.x.options.title,"</div>"),s.x2.options.title&&s.x2.used&&e.push('<div style="position:absolute;top:0;left:',this.plotOffset.left,"px;width:",this.plotWidth,"px;text-align:",s.x2.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-x2">',s.x2.options.title,"</div>"),s.y.options.title&&s.y.used&&e.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight/2-s.y.titleSize.height/2,"px;left:0;text-align:",s.y.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-y1">',s.y.options.title,"</div>"),s.y2.options.title&&s.y2.used&&e.push('<div style="position:absolute;top:',this.plotOffset.top+this.plotHeight/2-s.y.titleSize.height/2,"px;right:0;text-align:",s.y2.options.titleAlign,';" class="flotr-axis-title flotr-axis-title-y2">',s.y2.options.title,"</div>"),e=e.join("");var r=t.create("div");t.setStyles({color:i.grid.color}),r.className="flotr-titles",t.insert(this.el,r),t.insert(r,e)}}})}();
